!function(H,z){"use strict";var i="ht",e=H[i],L="innerHTML",J="className",E=null,p="px",Y=e.Default,o=Y.getInternal(),l="0",f=function(){return document},Q=function(u){return f().createElement(u)},t=function(){return Q("canvas")},K=function(L,V,e){L.style.setProperty(V,e,E)},A=function(o,r,S){Y.def(e.widget[o],r,S)},b=function(s,u){s.appendChild(u)},y=function(D,k){D.removeChild(k)},C=function(Y,u,q,M){Y.addEventListener(u,q,!!M)},k=function(n,V,q,F){n.removeEventListener(V,q,!!F)},U=Y.isTouchable;o.addMethod(Y,{menuLabelFont:(U?"16":"13")+"px arial, sans-serif",menuLabelColor:"#000",menuBackground:"#F0EFEE",menuHoverBackground:"#648BFE",menuHoverLabelColor:"#fff",menuSeparatorWidth:1,menuSeparatorColor:"#999"},!0),e.widget.Menu=function(C){var r=this,h=r._view=o.createView(null,r),$=r.$1g=new e.widget.ContextMenu,E=Q("ul");$._r=!0,$._view[J]+=" ht-widget-dropdownmenu",h[J]="ht-widget-menu",E[J]="header",K(h,"margin",l),K(h,"padding",l),K(h,"background",Y.menuBackground),K(h,"-webkit-user-select","none"),K(h,"-moz-user-select","none"),K(h,"user-select","none"),K(h,"text-align","left"),K(h,"border-bottom",Y.menuSeparatorWidth+"px solid "+Y.menuSeparatorColor),K(h,"cursor","default"),K(h,"overflow","auto"),K(h,"white-space","nowrap"),K(h,"font",Y.menuLabelFont),K(h,"color",Y.menuLabelColor),K(h,"box-sizing","border-box"),K(h,"-moz-box-sizing","border-box"),K(E,"list-style","none"),K(E,"margin",l),K(E,"padding",l),K(E,"display","inline-block"),b(h,E),r.setItems(C),r.$2g=function(l){r.$3g(l)},r.$4g=function(s){r.$5g(s)},r.$6g=function(f){r.$7g(f)},r.$8g=function(l){r.$9g(l)},r.$9b=function(c){r.$10g(c)},r._autoShow=!0,r.setAutoShow(!1),$.afterHide=function(){r.$11g()},$.afterShow=function(){r.$12g()},k(f(),"keydown",$.$3b),r.$3b=function(f){r.$13g(f)},r.invalidate()},A("Menu",z,{_items:E,$14g:Y.menuHoverBackground,$15g:Y.menuHoverLabelColor,$16g:{},_enableGlobalKey:!1,ms_v:1,$21g:"smallicons",$22g:0,$23g:0,$24g:"left",getDropDownMenu:function(){return this.$1g},setLayout:function(R){var e=this;if(e.$21g=R,e.setItems(e._items),"largeicons"===R){for(var v=e._view.querySelectorAll(".header-item"),i=0,S=0;S<v.length;S++){var H=v[S];i=Math.max(i,H.clientWidth)}for(var S=0;S<v.length;S++){var H=v[S];K(H,"min-width",i+p)}}this.invalidate()},getLayout:function(){return this.$21g},setHeaderItemHGap:function(o){this.$22g=o;for(var t=this._view.querySelectorAll(".header-item"),b=0;b<t.length;b++){var F=t[b];K(F,"margin-left",o+p),K(F,"margin-right",o+p)}},getHeaderItemHGap:function(){return this.$22g},setHeaderItemVGap:function(b){this.$23g=b;for(var E=this._view.querySelectorAll(".header-item"),m=0;m<E.length;m++){var X=E[m];K(X,"margin-top",b+p),K(X,"margin-bottom",b+p)}},getHeaderItemVGap:function(){return this.$24g},setHeaderItemAlign:function(_){this.$24g=_,K(this._view,"text-align",_)},getHeaderItemAlign:function(){return this.$23g},enableGlobalKey:function(){var G=this,P=G._enableGlobalKey;P===!1&&(C(f(),"keydown",G.$3b),G._enableGlobalKey=!0)},disableGlobalKey:function(){this._enableGlobalKey=!1,k(f(),"keydown",this.$3b)},setHoverBackground:function(l){this.$14g=l},setHoverColor:function(Q){this.$15g=Q},setItems:function(C){var X=this,p=X._view,n=X.$21g;if(X._items=C,p.children[0][L]="",X.$16g={},C&&C.length){for(var v=p.children[0],V=0,H=f().createDocumentFragment();V<C.length;V++){var S=C[V],D=Q("li"),Z=Q("span");if(S.icon){var I=t();I[J]="menu-item-icon","smallicons"===n?(K(I,"height","1.2em"),K(I,"width","1.2em"),K(I,"vertical-align","middle")):(K(I,"height","32px"),K(I,"width","32px"),K(I,"display","block"),K(I,"margin","0 auto")),I.$20g=S.icon,b(D,I)}D[J]="header-item",K(D,"display","inline-block"),K(D,"vertical-align","top"),K(D,"padding","0 1.2em"),K(D,"line-height","1.8em"),"largeicons"===n&&K(D,"text-align","center"),K(D,"background-color","rgba(0,0,0,0)"),D.setAttribute("data-index",V),X.$16g[V]=S.items,Z[L]=S.label,"iconsonly"!==n&&b(D,Z),b(H,D)}b(v,H)}},showDropdownMenu:function(k){var _=this,T=_.$16g[k],i=_.$1g,y=_._view.children[0].children[k],x=_.$17g;if(y&&y!==x){x&&_.hideDropdownMenu();var K=y.getBoundingClientRect(),R=Y.getWindowInfo();_.$17g=y,i.setItems(T),i.show(K.left+R.left,K.top+K.height+R.top,!1)}},hideDropdownMenu:function(){this.$1g.hide()},getItemByProperty:function(l,r){var j=this,z=j._items;return z&&0!==z.length?j.$1g.getItemByProperty(l,r,z):E},$12g:function(){var v=this,V=v.$17g;V.style.background=v.$14g,V.style.color=v.$15g,v._autoShow||C(f(),U?"touchstart":"mousedown",v.$9b)},$11g:function(){var _=this,n=_.$17g;n&&(n.style.background="",n.style.color="",_.$17g=E),k(f(),U?"touchstart":"mousedown",_.$9b)},$10g:function(q){var Q=this,L=Q._view,C=Q.$1g,u=L.children[0];!f().body.contains(L)||u.contains(q.target)||C._view.contains(q.target)||Q.hideDropdownMenu()},$13g:function(_){var i=this,o=i.$1g;f().body.contains(i._view)&&o.$13b.$4b.call(o.$13b,_,i._items)},setAutoShow:function(H){var G=this,E=G.$1g,g=G._view;G._autoShow!==H&&(G._autoShow?(k(g,"mouseover",G.$2g),k(g,"mouseout",G.$4g),k(E._view,"mouseout",G.$4g),U||(C(g,"mouseover",G.$8g),C(g,"mouseout",G.$8g)),C(g,U?"touchstart":"mousedown",G.$6g)):(k(g,"mouseover",G.$8g),k(g,"mouseout",G.$8g),k(g,U?"touchstart":"mousedown",G.$6g),k(f(),U?"touchstart":"mousedown",G.$9b),U||(C(g,"mouseover",G.$2g),C(g,"mouseout",G.$4g),C(E._view,"mouseout",G.$4g))),G._autoShow=H)},$3g:function(j){var X=this,e=X._view.children[0],i=j.target;if(e!==i&&e.contains(i)){for(;"header-item"!==i[J];)i=i.parentNode;X.showDropdownMenu(i.getAttribute("data-index"))}},$5g:function(W){var d=this,O=d._view.children[0],h=d.$1g,V=W.target,n=W.relatedTarget;!O.contains(V)&&!h._view.contains(V)||O.contains(n)||h._view.contains(n)||d.hideDropdownMenu()},$7g:function(d){d.preventDefault();var x=this,Z=x._view.children[0],D=x.$1g,z=d.target;if(Y.isLeftButton(d)&&Z!==z&&Z.contains(z))if(U){for(;"header-item"!==z[J];)z=z.parentNode;var m=z.getAttribute("data-index"),D=x.$1g,V=x._view.children[0].children[m],y=x.$17g;D.isShowing()&&x.hideDropdownMenu(),V!==y&&x.showDropdownMenu(m)}else if(D.isShowing())x.hideDropdownMenu();else{for(;"header-item"!==z[J];)z=z.parentNode;x.showDropdownMenu(z.getAttribute("data-index"))}},$9g:function(K){var z=this,u=z._view,G=z.$1g,$=K.target;if(u.contains($)){for(var Y=u.querySelectorAll(".header-item"),f=E,j=0;j<Y.length;j++){var F=Y[j];F.style.background="",F.style.color="","mouseover"===K.type?F.contains($)&&(f=F):"mouseout"===K.type&&G.isShowing()&&z.$17g===F&&(f=F)}G.isShowing()&&(f||(f=z.$17g),z.showDropdownMenu(f.getAttribute("data-index"))),f&&(f.style.background=z.$14g,f.style.color=z.$15g)}},getShowingMenuIndex:function(){var X=this.$17g;return X?X.getAttribute("data-index"):-1},addTo:function(F){var f=this,w=f._view;b(F,w),f.invalidate()},dispose:function(){var V=this,Y=V._view,q=V.$1g;Y&&(V._autoShow?(k(Y,"mouseover",V.$2g),k(Y,"mouseout",V.$4g),k(q._view,"mouseout",V.$4g)):(k(Y,"mouseover",V.$8g),k(Y,"mouseout",V.$8g),k(Y,U?"touchstart":"mousedown",V.$6g),k(f(),U?"touchstart":"mousedown",V.$9b)),k(f(),"keydown",V.$3b),q.dispose(),Y.parentNode&&y(Y.parentNode,Y),V._view=V.$1g=V.$16g=V._items=V.$17g=V.$2g=V.$4g=V.$6g=V.$8g=V.$9b=V.$3b=E)},$19g:function(w,F,l,c){var C=o.initContext(w);o.translateAndScale(C,0,0,1),C.clearRect(0,0,l,c),Y.drawStretchImage(C,Y.getImage(F),"fill",0,0,l,c),C.restore()},validateImpl:function(){var v,c,K,l=this,y=l._view,T=y.querySelectorAll(".menu-item-icon");for(K=0;K<T.length;K++){var n=T[K];v=n.clientWidth,c=n.clientHeight,v&&c&&(o.setCanvas(n,v,c),l.$19g(n,Y.getImage(n.$20g),v,c))}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);