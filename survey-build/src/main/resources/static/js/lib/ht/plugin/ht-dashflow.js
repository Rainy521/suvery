!function(o){"use strict";var W="ht",Y=o[W],t=Y.Default,D=Math,X=(D.PI,D.sin,D.cos,D.atan2,D.sqrt,D.max),p=D.floor,l=(D.round,D.ceil),j=Y.Shape,c=(Y.Edge,Y.List),r=Y.Style,Z=Y.graph,K=t.getInternal(),n=K.ui(),h=null,E="prototype",C=o.clearInterval,L=o.setInterval,J=function(g){var o=g.data,a=this.dm();if(o&&"add"===g.kind){var q=a.$1c,K=o instanceof j?"shape.":"edge.";q&&o.s(K+"dash.flow")&&q.indexOf(o)<0&&q.push(o)}"clear"===g.kind&&(a.$1c=[])},k=function(V){var T=V.property,y=V.data,e=V.newValue,J=this.dm().$1c,g=y instanceof j?"s:shape.dash.flow":"s:edge.dash.flow";if(J&&T===g)if(e)J.indexOf(y)<0&&J.push(y);else for(var A=J.length,R=0;A>R;R++)if(J[R]===y){J.splice(R,1);break}},$=Z.GraphView[E],Q=n.EdgeUI[E],u=n.ShapeUI[E],B=u._80o,I=Q._80o,d=Y.DataModel[E],s=d.prepareRemove,O=$.setDataModel;r["edge.dash.flow.step"]==h&&(r["edge.dash.flow.step"]=3),r["shape.dash.flow.step"]==h&&(r["shape.dash.flow.step"]=3),d.prepareRemove=function(E){s.call(this,E);var W=E._dataModel,O=W.$1c;if(O)for(var o=O.length,M=0;o>M;M++)if(O[M]===E){O.splice(M,1);break}},$.setDataModel=function(g){var s=this,y=s._dataModel;if(y!==g){y&&(y.umm(J,s),y.umd(k,s),y.$1c=[]),g.mm(J,s),g.md(k,s);var p=g.$1c=[];g.each(function(Y){var B=Y instanceof j?"shape.":"edge.";Y.s(B+"dash.flow")&&p.indexOf(Y)<0&&p.push(Y)}),O.call(s,g)}},$.setDashFlowInterval=function(w){var s=this,Z=s.$2c;s.$2c=w,s.fp("dashFlowInterval",Z,w),s.$3c!=h&&(C(s.$3c),delete s.$3c,s.enableDashFlow(w))},$.getDashFlowInterval=function(){return this.$2c},$.$4c=function(){var d,J,F,V=this,v=V.tx(),y=V.ty(),I=V._zoom,Z=V.getWidth(),N=V.getHeight(),g={x:-v/I,y:-y/I,width:Z/I,height:N/I},M=V.dm().$1c,w=V._56I,$=new c;if(M.forEach(function(L){w[L.getId()]&&(d=V.getDataUI(L),d&&(F=d._79o(),F&&$.add(F)))}),0!==$.size()&&($.each(function(b){t.intersectsRect(g,b)&&(J=t.unionRect(J,b))}),J&&(J&&(t.grow(J,X(1,1/I)),J.x=p(J.x*I)/I,J.y=p(J.y*I)/I,J.width=l(J.width*I)/I,J.height=l(J.height*I)/I,J=t.intersection(g,J)),J))){var W=V._canvas.getContext("2d");W.save(),W.lineCap=t.lineCap,W.lineJoin=t.lineJoin,K.translateAndScale(W,v,y,I),W.beginPath(),W.rect(J.x,J.y,J.width,J.height),W.clip(),W.clearRect(J.x,J.y,J.width,J.height),V.$5c(W,J),W.restore()}},$.$5c=function(B,i){var h,A,v=this;v._93db(B),v.each(function(H){v._56I[H._id]&&(h=v.getDataUI(H),h&&(A=h._79o(),(!i||t.intersectsRect(i,A))&&(h.$7c=!0,h._42(B),delete h.$7c)))}),v._92db(B)},$.enableDashFlow=function(T){var y=this;y.$3c==h&&(y.$3c=L(function(){y.$4c()},T||y.$2c||50))},$.disableDashFlow=function(){var m=this;C(m.$3c),delete m.$3c};var f=function(){var p=this,O=p._data,y=O instanceof j?"shape.":"edge.",N=O.s(y+"dash.pattern"),i=O.s(y+"dash.flow.reverse");if(N&&O.s(y+"dash")&&O.s(y+"dash.flow")&&p.$7c){var c=p.s(y+"dash.offset")||0,w=O.s(y+"dash.flow.step"),T=O.getStyleMap(),M=0;N.forEach(function(u){M+=u}),i&&(w=-w),c-=w,c%=M,T||(O._styleMap=T={}),T[y+"dash.offset"]=c}};Q._80o=function(h){I.call(this,h),f.call(this)},u._80o=function(Z){B.call(this,Z),f.call(this)}}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);