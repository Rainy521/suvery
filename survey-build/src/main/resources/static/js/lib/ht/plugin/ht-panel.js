!function(o,F,y){"use strict";var v="ht",m=o[v],p=m.Default,r=p.isTouchable,j=m.Color,b="px",Z="0",H="innerHTML",P="className",I="position",O="absolute",f="width",C="height",R="left",N="top",Y="right",M="bottom",h="max-width",s="max-height",e=null,B="none",n="",i=o.parseInt,K=o.setTimeout,k=p.getInternal(),W=p.animate,E=j.titleIconBackground,g=function(){return document},$=function(h){return g().createElement(h)},J=function(){return $("div")},q=function(){return $("canvas")},V=function(y,E,u){y.style.setProperty(E,u,e)},T=function(M,L){return M.style.getPropertyValue(L)},c=function(c,Z){c.appendChild(Z)},w=function(F,s){F.removeChild(s)},U=function(T){var m=T.scrollWidth,P=T.scrollHeight;return T===g().body&&(m=Math.max(m,g().documentElement.scrollWidth),P=Math.max(P,g().documentElement.scrollHeight)),{width:m,height:P}},Q=function(f){var P=f.touches[0];return P?P:f.changedTouches[0]};k.addMethod(p,{panelExpandIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:E,rotation:3.14}]},panelCollapseIcon:{width:16,height:16,comps:[{type:"triangle",rect:[4,4,10,8],background:E}]},panelLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:E},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,44],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:E}]},panelUnLockIcon:{width:100,height:100,comps:[{type:"roundRect",rect:[10,50,80,40],borderWidth:10,borderColor:E},{type:"shape",points:[37,45,37,20,37,13,43,13,63,13,69,13,70,19,70,26],segments:[1,2,3,2,3,2],borderWidth:10,borderColor:E}]},panelMinimizeIcon:{width:100,height:100,comps:[{type:"shape",points:[10,35,35,35,35,10],segments:[1,2,2],borderWidth:8,borderColor:E},{type:"shape",points:[90,35,65,35,65,10],segments:[1,2,2],borderWidth:8,borderColor:E},{type:"shape",points:[10,65,35,65,35,90],segments:[1,2,2],borderWidth:8,borderColor:E},{type:"shape",points:[65,90,65,65,90,65],segments:[1,2,2],borderWidth:8,borderColor:E}]},panelRestoreIcon:{width:300,height:300,comps:[{type:"rect",rect:[10,24,268,56],background:E},{type:"rect",rect:[10,118,268,56],background:E},{type:"rect",rect:[10,213,268,56],background:E}]},panelTitleLabelColor:p.labelSelectColor,panelTitleLabelFont:p.labelFont,panelContentLabelFont:p.labelFont,panelTitleBackground:j.titleBackground,panelSeparatorWidth:1,panelSeparatorColor:y},!0);var L=m.widget.Panel=function(E){var n=this,d=n._view=k.createView(null,n);n.$1i=0,n.$18i=new m.Notifier,n.$2i="leftTop",V(d,N,Z),V(d,R,Z),V(d,I,O),V(d,"overflow","hidden"),n._interactor=new u(n),n.setConfig(E),n.addEventListener(function(i){var N=n.getPanelConfig(i.id),p=N.content;("beginRestore"===i.kind||"betweenResize"===i.kind||"endToggle"===i.kind)&&(p&&p.invalidate&&p.invalidate(),N.items&&N.items.forEach(function(c){c&&c.content&&c.content.invalidate&&c.content.invalidate()}))})};p.def(L,F,{ms_v:1,_dragContainment:"parent",setConfig:function(j){function X(m){m.expanded=!m.expanded,v.togglePanel(m.id,!0,!0)}if(j){var v=this;v._view[H]=n,v._config=j,v.$35i=[],j.expanded==e&&(j.expanded=j.expand!=e?j.expand:!0);var x=v._view,z=v.$24i(j,x,!0),R=z[2],l=j.width;v.$35i.push(z[1]),j.items&&j.items.forEach(function(o){o.expanded==e&&(o.expanded=o.expand!=e?o.expand:!0);var h=v.$24i(o,R.children[0]);v.$35i.push(h[1])});var $=J();V($,f,10+b),V($,C,10+b),V($,I,O),V($,M,Z),V($,Y,Z),$[P]="resize-area",c(x,$),v.$10i(),j.flowLayout&&V(x,I,"relative"),V(x,"opacity",Z),c(g().body,x),l==e&&(l=x.offsetWidth),V(x,f,l+b),V(x,h,l+b),j.items&&j.items.forEach(function(k){X(k)}),j.buttons&&j.buttons.indexOf("toggle")<0||X(j),j.minimized==e&&j.minimize!=e&&(j.minimized=j.minimize),j.minimized&&j.minimizable!==!1&&v.minimize(!0),w(g().body,x),V(x,"opacity",n),v.iv()}},getPanelConfig:function(Y){var v=this,O=v._config,F=O.items;if(O.id===Y)return O;if(F)for(var E=0;E<F.length;E++){var Q=F[E];if(Q.id===Y)return Q}},getPanelView:function(l){for(var I=this,r=I.$35i,O=0;O<r.length;O++){var J=r[O],b=J.parentNode;if(b.$15i===l)return b}},setDragContainment:function(t){this._dragContainment=t},getDragContainment:function(){return this._dragContainment},$20i:function(){var g=this._config,u=g.restoreIconSize||24;return u},$5i:function(m){var D=m.titleIconSize||16;return r&&(D*=1.2),D},$4i:function(d){var n=d.titleHeight||p.widgetTitleHeight;return n},setTitle:function(Q,B){if(B==e&&(B=this._config.id),B!=e){var f=this.getPanelConfig(B),t=this.getPanelView(B);f.title=Q,t.querySelector(".panel-title span").innerHTML=Q}},setInnerPanel:function(H){var B,T,O=this,m=H.id,c=O.$35i,Y=!1;if(H.expanded==e&&(H.expanded=!0),m!=e){var d=O.getPanelConfig(m);if(d){Y=!0;var P,A=O.getPanelView(m),g=A.parentNode,D=A.children[0];if(A!==O._view){O.$11i();for(P in d)delete d.key;for(P in H)d[P]=H[P];B=O.$24i(H,g,!1,A),T=B[1],g.removeChild(A);for(var p=0;p<c.length;p++)if(c[p]===D){c.splice(p,1,T);break}O.$12i(),d.expanded=!d.expanded,O.togglePanel(d.id,!0,!0),O.iv()}}}if(!Y){O.$11i(),B=O.$24i(H,O._view.children[1]),T=B[1],c.push(T),O._config.items||(O._config.items=[]);var o=O._config.items;if(o.push(H),O.$12i(),o.length>1){var y=o[o.length-2],E=O.getPanelView(y.id).children[0];V(E,"border-bottom",O.$55i(y))}H.expanded=!H.expanded,O.togglePanel(H.id,!0,!0),O.iv()}},removeInnerPanel:function(Y){var d,e=this,E=-1,i=e._config.items;if(i)for(d=0;d<i.length;d++){var U=i[d];if(U.id===Y){E=d;break}}if(e.$11i(),E>=0){var H=e.$35i,c=e.getPanelView(Y),n=c.children[0];for(d=0;d<H.length;d++)if(H[d]===n){H.splice(d,1);break}i.splice(E,1),c.parentNode.removeChild(c)}if(e.$12i(),i.length>0){var F=i[i.length-1],B=e.getPanelView(F.id).children[0];V(B,"border-bottom",e.$55i(F))}},$6i:function(Q){V(Q,"cursor","pointer"),V(Q,"display","inline-block"),V(Q,"margin-right",(r?8:4)+b),V(Q,"vertical-align",N)},$24i:function(R,j,f,I){var d=this,g=d._config.flowLayout,Q=f?j:J(),t=d.$50i(R),A=d.$3i(R,f);Q[P]="ht-widget-panel"+(f?" outer-panel":" inner-panel"),R.borderWidth==e&&(R.borderWidth=f?2:0);var y=R.borderWidth;if(y="0 "+y+b+" "+y+b+" "+y+b+" ",V(Q,"padding",y),c(Q,A),c(Q,t),f||(I?j.insertBefore(Q,I):c(j,Q)),!g&&f&&R.minimizable!==!1){var B=q(),F=d.$20i(),X=R.restoreToolTip;k.setCanvas(B,F,F),B[P]="control-button button-minimize button-minimize-restore",d.$6i(B),V(B,"display","none"),c(j,B),B.title=X||""}var o=R.titleBackground||p.panelTitleBackground;if(V(Q,"background-color",o),R.id==e){for(var N=d.$1i++;d.getPanelConfig(N);)N=d.$1i++;R.id=N}return Q.$15i=R.id,R.width&&(Q.style.width=R.width+b),[Q,A,t]},$9i:function(d){var e=q();e[P]="control-button button-toggle button-toggle-expand",e.title=d.toggleToolTip||"";var b=this.$4i(d),Q=this.$5i(d);return this.$6i(e),k.setCanvas(e,Q,b),e},$8i:function(B){var $=q(),G="control-button button-independent-switch";$[P]=B.independent===!0?G+" button-independent-switch-on":G+" button-independent-switch-off",$.title=B.independentSwitchToolTip||"";var Z=this.$4i(B),E=this.$5i(B);return this.$6i($),k.setCanvas($,E,Z),$},$7i:function(V){var B=q();B[P]="control-button button-minimize button-minimize-minimize",B.title=V.minimizeToolTip||"";var b=this.$4i(V),l=this.$5i(V);return this.$6i(B),k.setCanvas(B,l,b),B},$55i:function(J){var n=this._config,F=n.items,R=J.separatorWidth||p.panelSeparatorWidth,Z=J.titleBackground||p.panelTitleBackground,N=J.expanded!==!1?Z:J.separatorColor||p.panelSeparatorColor||p.brighter(Z);return(n===J||F&&F.indexOf(J)===F.length-1)&&(R=0),R+b+" solid "+N},$3i:function(s,S){var X=this,B=X._config.flowLayout,E=J(),K=J(),L=X.$4i(s),u=s.titleBackground,T=s.titleColor,a=s.titleIcon,Q=s.buttons;if(E[P]="panel-title",V(E,I,"relative"),V(E,"background",u||p.panelTitleBackground),V(E,"color",T||p.panelTitleLabelColor),V(E,N,Z),V(E,"box-sizing","border-box"),V(E,"-moz-box-sizing","border-box"),V(E,"padding","0 5px 0 0"),V(E,f,"100%"),V(E,"cursor","default"),V(E,"white-space","nowrap"),V(E,"font",p.panelTitleLabelFont),a){var h=q();h[P]="control-button panel-title-icon";var o=X.$4i(s),i=X.$5i(s);X.$6i(h),k.setCanvas(h,i,o),c(E,h)}var U=$("span");V(U,"display","inline-block"),V(U,"margin-left","5px"),U[H]="<span>"+s.title+"</span>",c(E,U),V(E,"line-height",L+b),K[P]="panel-title-controls",V(K,I,O),V(K,R,Z),V(K,Y,5+b),V(K,N,Z),V(K,M,Z),V(K,"text-align",Y);var C=function(){var U=X.$9i(s);c(K,U)},w=function(){if(!B&&S&&s.minimizable!==!1){var v=X.$7i(s);c(K,v)}},d=function(){if(!S){var e=X.$8i(s);c(K,e)}},_=function(M){var I=q();I[P]="control-button custombutton-"+M.name,I.title=M.toolTip||"",I._action=M.action;var U=X.$4i(s),m=X.$5i(s);X.$6i(I),k.setCanvas(I,m,U),c(K,I)};if(Q)for(var W=0;W<Q.length;W++){var G=Q[W];"string"==typeof G?"minimize"===G?w():"independentSwitch"===G?d():"toggle"===G&&C():"object"==typeof G&&_(G)}else w(),C();return c(E,K),E},$50i:function(Y){var B=J(),j=Y.contentHeight,m=J();if(V(m,I,"relative"),B[P]="panel-body",V(B,"overflow","hidden"),V(B,"background","white"),V(B,"font",p.panelContentLabelFont),c(B,m),Y.content){var E;Y.content.getView?(c(m,Y.content.getView()),E=m.children[0]):Y.content instanceof Element?(c(m,Y.content),E=m.children[0]):m[H]=Y.content,E&&(V(E,f,"100%"),V(E,C,"100%")),j&&V(m,C,j+b)}return B},$10i:function(){var p=this,N=p._config,G=p._view,H=G.querySelector(".resize-area").style;H.display=N.flowLayout||N.minimized===!0||N.expanded===!1?B:"block"},$11i:function(){var f=this._view,L=f.children[1];this.$13i>=0?this.$13i++:this.$13i=1,V(L,s,n),V(f,h,n)},$12i:function(){var Y=--this.$13i;if(0===Y){var n=this._view,w=n.children[1];V(w,s,w.scrollHeight+b),V(n,h,n.offsetWidth+b)}},$14i:function(){var Y=this._view,q=Y.children[0],v=q.children[1].children,R=this._config,J=0;Y.$26i=Y.offsetWidth,J+=q.children[0].offsetWidth,R.titleIcon&&(J+=q.children[1].offsetWidth,v=q.children[2].children);for(var $=0;$<v.length;$++){var N=v[$];J+=N.offsetWidth+5}Y.$51i=J+15},togglePanel:function(Y,w,t){function G(q){var W=q.target,X=W.parentNode,n=B.getPanelConfig(X.$15i);delete X.$19i,W!==z&&B.$12i(),B.$18i.fire({kind:"endToggle",target:B,id:n.id})}for(var B=this,U=B._view,z=U.children[1],A=e,y=B.$35i,X=y.length,E=B._config.exclusive,N=B.$2i,C=[],j=B._config.narrowWhenCollapse,J=0;X>J;J++){var v=y[J],c=v.parentNode,i=c.$15i,g=B.getPanelConfig(i);i===Y&&(A=c),!w&&E&&g.expanded&&c!==U&&i!==Y&&g.independent!==!0&&C.push(c)}if(A&&!A.$19i){A.$19i=!0;var a=A.children[1],F=A.querySelector(".button-toggle"),D=B.getPanelConfig(A.$15i);if(!F)return;A===U||D.expanded||D.independent===!0||C.forEach(function(T){B.togglePanel(T.$15i,!0)}),A!==U&&B.$11i();var x=200;if(t&&(x=0),B.$18i.fire({kind:"beginToggle",target:B,id:A.$15i}),D.expanded){var k=function(){F[P]="control-button button-toggle",F[P]+=N.indexOf("Bottom")>=0?" button-toggle-expand":" button-toggle-collapse",V(a,f,a.clientWidth+b),D.expanded=!1,V(A.children[0],"border-bottom",B.$55i(D)),W(a).duration(x).set("opacity",Z).set(s,Z).end(G),j&&A===U&&W(A).duration(x).set(h,A.$51i+b).end(),A[P]+=" panel-collapse",W(A).duration(x).set("padding-bottom",Z).end(),B.$28i(D,!0),B.$10i()};j&&A===U&&B.$14i(),k()}else F[P]="control-button button-toggle",F[P]+=N.indexOf("Bottom")>=0?" button-toggle-collapse":" button-toggle-expand",V(a,f,n),D.expanded=!0,V(A.children[0],"border-bottom",B.$55i(D)),W(a).duration(x).set("opacity","1").set(s,a.scrollHeight+b).end(G),j&&A===U&&W(A).duration(x).set(h,(A.$26i||A.offsetWidth)+b).end(),A[P]=A[P].replace(" panel-collapse",n),W(A).duration(x).set("padding-bottom",D.borderWidth+b).end(),B.$28i(D,!0),B.$10i()}},$16i:function(){var _=this._view,t=_.$22i,n=_.$23i,Z=this.$2i;return t==e&&(Z.indexOf(R)>=0?t=_.$22i=0:Z.indexOf(Y)>=0&&(t=_.$22i=100)),n==e&&(Z.indexOf("Top")>=0?n=_.$23i=0:Z.indexOf("Bottom")>=0&&(n=_.$23i=100)),[t,n]},$25i:function(){var F=this,f=F._view,e=f.$21i,l=F.$20i(),p=F.$16i(),X=p[0],_=p[1],a=F.$2i;f.children[0].style.display=B,f.children[1].style.display=B,f.children[2].style.display=n,V(f,"padding",Z),V(f,h,l+b),"leftTop"===a?(V(f,R,i(T(f,R))+(e.width-l)*X/100+b),V(f,N,i(T(f,N))+(e.height-l)*_/100+b)):"leftBottom"===a?(V(f,R,i(T(f,R))+(e.width-l)*X/100+b),V(f,M,i(T(f,M))+(e.height-l)*(1-_/100)+b)):"rightTop"===a?(V(f,Y,i(T(f,Y))+(e.width-l)*(1-X/100)+b),V(f,N,i(T(f,N))+(e.height-l)*_/100+b)):"rightBottom"===a&&(V(f,Y,i(T(f,Y))+(e.width-l)*(1-X/100)+b),V(f,M,i(T(f,M))+(e.height-l)*(1-_/100)+b)),f[P]+=" panel-minimized",F.$18i.fire({kind:"endMinimize",target:F,id:f.$15i})},$17i:function(){var J=this,y=J._config,o=J._view;V(o,"-webkit-transform",n),V(o,"-ms-transform",n),V(o,"transform",n),y.minimized?J.$25i():(J.$18i.fire({kind:"endRestore",target:J,id:y.id}),o[P]=o[P].replace(" panel-minimized",n)),delete o.$19i},minimize:function(T){var K=this,d=K._view;if(!d.$19i&&d.children[0].style.display!==B){var x=K._config,l=d.getBoundingClientRect(),t=K.$20i(),i=l.width,w=l.height,I=t/i,A=t/w,L=K.$16i(),U=L[0],P=L[1];d.$52i=I,d.$53i=A,d.$21i=l,K.$18i.fire({kind:"beginMinimize",target:K,id:d.$15i});var e=200;T&&(e=0),x.minimized=!0,d.$19i=!0,x.expanded&&(d.$26i=d.offsetWidth);var s=U+"% "+P+"%";V(d,"-webkit-transform-origin",s),V(d,"-ms-transform-origin",s),V(d,"transform-origin",s),W(d).duration(e).scale(I,A).end(function(){K.$17i()}),K.$10i()}},restore:function(){var _,t,l,P,D,O,r,G,Q,E,q,C,A=this,j=A._view,d=j.parentNode,e=A._config;if(!j.$19i&&e.minimized){var H=j.$21i,s=j.$52i,g=j.$53i,m=e.borderWidth+b,w=m,X=m,S=0,I=A.$20i(),Z=U(d),o=A.$2i;"leftTop"===o?(_=i(T(j,R)),l=i(T(j,N)),D=_,r=l,Q=_+H.width-Z.width,E=l+H.height-Z.height,Q>0&&(Q>=_?_=0:_-=Q),E>0&&(E>=l?l=0:l-=E),q=100*((D-_)/(H.width-I)),C=100*((r-l)/(H.height-I)),V(j,R,_+b),V(j,N,l+b)):"leftBottom"===o?(_=i(T(j,R)),P=i(T(j,M)),D=_,G=P,Q=_+H.width-Z.width,E=P+H.height-Z.height,Q>0&&(Q>=_?_=0:_-=Q),E>0&&(E>=P?P=0:P-=E),q=100*((D-_)/(H.width-I)),C=100*(1-(G-P)/(H.height-I)),V(j,R,_+b),V(j,M,P+b)):"rightTop"===o?(t=i(T(j,Y)),l=i(T(j,N)),O=t,r=l,Q=t+H.width-Z.width,E=l+H.height-Z.height,Q>0&&(Q>=t?t=0:t-=Q),E>0&&(E>=l?l=0:l-=E),q=100*(1-(O-t)/(H.width-I)),C=100*((r-l)/(H.height-I)),V(j,Y,t+b),V(j,N,l+b)):"rightBottom"===o&&(t=i(T(j,Y)),P=i(T(j,M)),O=t,G=P,Q=t+H.width-Z.width,E=P+H.height-Z.height,Q>0&&(Q>=t?t=0:t-=Q),E>0&&(E>=P?P=0:P-=E),q=100*(1-(O-t)/(H.width-I)),C=100*(1-(G-P)/(H.height-I)),V(j,Y,t+b),V(j,M,P+b)),j.children[0].style.display="block",j.children[1].style.display="block",j.children[2].style.display=B,V(j,"padding",S+" "+w+" "+X+" "+m),V(j,"-webkit-transform","scale("+s+", "+g+")"),V(j,"-ms-transform","scale("+s+", "+g+")"),V(j,"transform","scale("+s+", "+g+")"),j.$22i=q,j.$23i=C,V(j,"-webkit-transform-origin",q+"% "+C+"%"),V(j,"-ms-transform-origin",q+"% "+C+"%"),V(j,"transform-origin",q+"% "+C+"%"),e.narrowWhenCollapse&&!e.expanded?V(j,h,j.$51i+b):V(j,h,j.$26i+b),A.$18i.fire({kind:"beginRestore",target:A,id:j.$15i}),j.$19i=!0,e.minimized=!1,K(function(){W(j).scale(1,1).end(function(){A.$17i()})},30),A.$10i()}},addEventListener:function(H,n,W){this.$18i.add(H,n,W)},removeEventListener:function(V,z){this.$18i.remove(V,z)},setPosition:function(j,t){var U=this._view,L=this.$2i;"leftTop"===L?(V(U,R,j+b),V(U,N,t+b),V(U,Y,n),V(U,M,n)):"leftBottom"===L?(V(U,R,j+b),V(U,M,t+b),V(U,Y,n),V(U,N,n)):"rightTop"===L?(V(U,Y,j+b),V(U,N,t+b),V(U,R,n),V(U,M,n)):"rightBottom"===L&&(V(U,Y,j+b),V(U,M,t+b),V(U,R,n),V(U,N,n)),delete U.$22i,delete U.$23i},getPosition:function(){var w=this._view,n=this.$2i;return"leftTop"===n?{x:i(T(w,R)),y:i(T(w,N))}:"leftBottom"===n?{x:i(T(w,R)),y:i(T(w,M))}:"rightTop"===n?{x:i(T(w,Y)),y:i(T(w,N))}:"rightBottom"===n?{x:i(T(w,Y)),y:i(T(w,M))}:void 0},setPositionRelativeTo:function(l){var Q=this,r=Q._view.querySelectorAll(".button-toggle"),V="control-button button-toggle",D=Q.getPosition();Q.$2i=l,Q.setPosition(D.x,D.y);for(var T=0;T<r.length;T++){var w=r[T],x=Q.getPanelConfig(w.parentNode.parentNode.parentNode.$15i);w[P]=x.expanded?l.indexOf("Bottom")>=0?V+" button-toggle-collapse":V+" button-toggle-expand":l.indexOf("Bottom")>=0?V+" button-toggle-expand":V+" button-toggle-collapse"}Q.iv()},getPositionRelativeTo:function(){return this.$2i},invalidate:function(s){var _=this;_._68I||(_._68I=1,p.callLater(_.validate,_,e,s),_.onInvalidated&&_.onInvalidated(),_.fireViewEvent("invalidate"));var X=this._config,N=X.content;N&&N.invalidate&&N.invalidate(),X.items&&X.items.forEach(function(l){l&&l.content&&l.content.invalidate&&l.content.invalidate()})},$27i:function(K,F,S,C){var t=k.initContext(K);k.translateAndScale(t,0,0,1),t.clearRect(0,0,S,S);var N=(S-C)/2;p.drawStretchImage(t,p.getImage(F),"fill",0,N,C,C),t.restore()},$28i:function(H){var x,D,$,b=this,y=H.id,S=b.getPanelView(y),n=S.querySelector(".button-toggle"),W=b.$2i.indexOf("Bottom")>=0;if(D=W?p.panelCollapseIcon:p.panelExpandIcon,$=W?p.panelExpandIcon:p.panelCollapseIcon,n){x=H.expanded?p.getImage($):p.getImage(D);var c=b.$4i(H),A=b.$5i(H);b.$27i(n,x,c,A)}},$29i:function(J){var Q,m=this,L=J.id,I=m.getPanelView(L),T=I.querySelector(".button-independent-switch"),h=p.panelUnLockIcon,Y=p.panelLockIcon;if(T){Q=J.independent!==!0?p.getImage(Y):p.getImage(h);var H=m.$4i(J),W=m.$5i(J);m.$27i(T,Q,H,W)}},$30i:function(W){var L=this,l=W.id,v=L.getPanelView(l),x=v.querySelector(".button-minimize-minimize"),u=p.panelMinimizeIcon;if(x){var $=L.$4i(W),s=L.$5i(W);L.$27i(x,p.getImage(u),$,s)}},$31i:function(g){var n=this,X=g.id,H=n.getPanelView(X),w=H.querySelector(".button-minimize-restore"),R=g.titleIcon||p.panelRestoreIcon;if(w){var v=n.$20i();n.$27i(w,p.getImage(R),v,v)}},$32i:function(y){var j=this,H=y.id,Y=j.getPanelView(H);if(y.buttons){var N=y.buttons;N.forEach(function(f){var P=f.name,X=f.icon;if(P&&X){var L=Y.querySelector(".custombutton-"+P);if(L){var z=j.$4i(y),m=j.$5i(y)-1;j.$27i(L,p.getImage(X),z,m)}}})}},$33i:function(V){var L=this,P=V.id,o=L.getPanelView(P),d=o.querySelector(".panel-title-icon"),F=V.titleIcon;if(d&&F){var Y=L.$4i(V),M=L.$5i(V);L.$27i(d,p.getImage(F),Y,M)}},validateImpl:function(){var C=this,K=C._config;C.$28i(K),C.$30i(K),C.$31i(K),C.$32i(K),C.$33i(K),K.items&&K.items.forEach(function(R){C.$28i(R),C.$29i(R),C.$32i(R)})}});var u=function(N){var R=this,J=N.getView();R.$34i=N,R.addListeners(),J.addEventListener("dblclick",R.$42i.bind(R))};p.def(u,F,{ms_listener:1,getView:function(){return this.$34i.getView()},clear:function(){delete this.$37i,delete this.$38i,delete this.$36i,delete this.$39i},$42i:function(h){for(var s=this.$34i,K=h.target,e=s.$35i,w=e.length,M=0;w>M;M++){var I=e[M];I.contains(K)&&(h.preventDefault(),s.togglePanel(I.parentNode.$15i))}},handle_touchstart:function(d){var J=this,E=J.$34i,Z=E._config,e=Z.flowLayout,F=d;if(p.preventDefault(d),p.isLeftButton(d)){var M=d.target,j=E.getView().children[0],O=E.getView().querySelector(".button-minimize-restore");r&&(F=Q(d));var u=J.$40i={x:F.pageX,y:F.pageY};J.$41i={x:u.x,y:u.y},(!e&&j.contains(M)||O&&O.contains(M))&&(J.$38i=!0,p.startDragging(J,d)),!e&&J.handle_mousemove(d)&&(J.$37i=!0,p.startDragging(J,d),E.$11i())}},handle_mousedown:function(h){this.handle_touchstart(h)},handle_touchend:function(W){var b=this,G=b.$34i,n=W.target,_=G.$35i,X=_.length,J=0,U=G.getView(),k=U.querySelector(".button-minimize"),C=U.querySelector(".button-minimize-restore");if(!b.$39i&&!b.$36i){if(k&&k.contains(n)||C&&C.contains(n))W.preventDefault(),G._config.minimized?G.restore():G.minimize();else for(;X>J;J++){var L=_[J],c=L.parentNode,j=c.$15i,z=G.getPanelConfig(j),i=L.querySelector(".button-toggle"),g=L.querySelector(".button-independent-switch");if(i===n)W.preventDefault(),G.togglePanel(j);else if(g===n){W.preventDefault();var s="button-independent-switch-off",I="button-independent-switch-on";z.independent=z.independent==e?!0:!z.independent,g[P]=z.independent?g[P].replace(s,I):g[P].replace(I,s),G.$29i(z)}else n[P]&&n[P].indexOf("control-button custombutton-")>=0&&L.contains(n)&&n._action.call(G,z,G.getPanelView(j),W)}delete b.$40i,delete b.$41i}},handle_mouseup:function(J){this.handle_touchend(J)},handleWindowTouchEnd:function(){var s=this,f=s.$34i;s.$37i&&s.$36i?(f.$18i.fire({kind:"endResize",target:f,id:f.getView().$15i}),f.$12i()):s.$38i&&s.$39i&&f.$18i.fire({kind:"endMove",target:f,id:f.getView().$15i}),this.clear()},handleWindowMouseUp:function(e){this.handleWindowTouchEnd(e)},handle_mousemove:function(X){var F=this,G=F.getView(),$=G.querySelector(".resize-area"),A=$.getBoundingClientRect(),D={x:A.left,y:A.top,width:A.width,height:A.height};X=r?Q(X):X;var S=X.clientX,o=X.clientY,b=F.$34i._config;return b.expanded&&b.minimized!==!0&&p.containsPoint(D,{x:S,y:o})?(G.style.cursor="nwse-resize",!0):(G.style.cursor=n,void 0)},handleWindowTouchMove:function(o){o.preventDefault();var F=o;r&&(F=Q(o));var I=this,k=I.$40i,c=I.$41i;if(!(c.x==k.x&&c.y==k.y&&p.getDistance(c,{x:F.pageX,y:F.pageY})<=1)){var q=I.$34i,W=I.getView(),j=W.parentNode,J=q._config,_=J.resizeMode||"wh",d=F.pageX-k.x,h=F.pageY-k.y,e=q.$2i;if(I.$37i){var D=W.children[1].children[0],m=W.clientWidth,L=D.clientHeight,O=m+d,E=L+h;O=Math.max(O,100),E=Math.max(E,100),"w"===_?(V(W,f,O+b),J.width=O,k.x+=O-m,e.indexOf(Y)>=0&&V(W,Y,i(T(W,Y))-(O-m)+b)):"h"===_?(V(D,C,E+b),J.contentHeight=E,k.y+=E-L,e.indexOf("Bottom")>=0&&V(W,M,i(T(W,M))-(E-L)+b)):"wh"===_&&(V(W,f,O+b),V(D,C,E+b),J.width=O,J.contentHeight=E,k.x+=O-m,k.y+=E-L,e.indexOf("right")>=0&&V(W,Y,i(T(W,Y))-(O-m)+b),e.indexOf("Bottom")>=0&&V(W,M,i(T(W,M))-(E-L)+b)),I.$36i?q.$18i.fire({kind:"betweenResize",target:q,id:q.getView().$15i}):(I.$36i=!0,q.$18i.fire({kind:"beginResize",target:q,id:q.getView().$15i}))}else if(I.$38i){var B,A,t,l,Z,S,u,n,y,g,w=W.getBoundingClientRect(),$=w.width,G=w.height,a=U(j),P=a.width,x=a.height,H=q._dragContainment;"leftTop"===e?(B=i(T(W,R))||0,t=i(T(W,N))||0,Z=B+d,u=t+h,"parent"===H&&(Z+$>P&&(Z=P-$),u+G>x&&(u=x-G),0>Z&&(Z=0),0>u&&(u=0)),y=Z-B,g=u-t,q.setPosition(Z,u),k.x+=y,k.y+=g):"rightBottom"===e?(A=i(T(W,Y))||0,l=i(T(W,M))||0,S=A-d,n=l-h,"parent"===H&&(0>S&&(S=0),0>n&&(n=0),S+$>P&&(S=P-$),n+G>x&&(n=x-G)),y=S-A,g=n-l,q.setPosition(S,n),k.x-=y,k.y-=g):"rightTop"===e?(A=i(T(W,Y))||0,t=i(T(W,N))||0,S=A-d,u=t+h,"parent"===H&&(0>S&&(S=0),0>u&&(u=0),S+$>P&&(S=P-$),u+G>x&&(u=x-G)),y=S-A,g=u-t,q.setPosition(S,u),k.x-=y,k.y+=g):"leftBottom"===e&&(B=i(T(W,R))||0,l=i(T(W,M))||0,Z=B+d,n=l-h,"parent"===H&&(0>Z&&(Z=0),0>n&&(n=0),Z+$>P&&(Z=P-$),n+G>x&&(n=x-G)),y=Z-B,g=n-l,q.setPosition(Z,n),k.x+=y,k.y-=g),I.$39i?q.$18i.fire({kind:"betweenMove",target:q,id:q.getView().$15i}):(I.$39i=!0,q.$18i.fire({kind:"beginMove",target:q,id:q.getView().$15i}))}}},handleWindowMouseMove:function(o){this.handleWindowTouchMove(o)}});var d=m.widget.PanelGroup=function(A){var u=this,L=u._view=k.createView(null,u);L.style.border="1px dashed black",L.style.position="absolute",L.style.background="rgba(120, 120, 120, 0.4)",u.$48i=new m.List,u._tolerance=100,u._config=A||{hGap:0,vGap:0},u.bindHandlePanelMove=u.handlePanelMove.bind(u),u.bindHandlePanelEvent=u.handlePanelEvent.bind(u),u.invalidate()};p.def(d,F,{invalidate:function(){var e=this;e._68I||(e._68I=1,K(function(){e.validate()},50))},validate:function(){if(this._68I){delete this._68I;var v=this.$48i.get(0);if(v){var c=v.getView().parentNode;c&&(this.layoutPanels(c,"leftTop"),this.layoutPanels(c,"rightTop"),this.layoutPanels(c,"leftBottom"),this.layoutPanels(c,"rightBottom"))}}},setLeftTopPanels:function(){var l=this,i=l.$43i,I=l.$48i;i==e&&(i=l.$43i=new m.List);for(var M=0;M<arguments.length;M++){var w=arguments[M];if("string"==typeof w)i.$49i=w;else{if(w._config.flowLayout)continue;w.setPositionRelativeTo("leftTop"),i.contains(w)||i.add(w),I.contains(w)||l.add(w)}}},setRightTopPanels:function(){var s=this,c=s.$44i,g=s.$48i;c==e&&(c=s.$44i=new m.List);for(var D=0;D<arguments.length;D++){var f=arguments[D];if("string"==typeof f)c.$49i=f;else{if(f._config.flowLayout)continue;f.setPositionRelativeTo("rightTop"),c.contains(f)||c.add(f),g.contains(f)||s.add(f)}}},setLeftBottomPanels:function(){var E=this,a=E.$45i,x=E.$48i;a==e&&(a=E.$45i=new m.List);for(var D=0;D<arguments.length;D++){var L=arguments[D];if("string"==typeof L)a.$49i=L;else{if(L._config.flowLayout)continue;L.setPositionRelativeTo("leftBottom"),a.contains(L)||a.add(L),x.contains(L)||E.add(L)}}},setRightBottomPanels:function(){var B=this,M=B.$46i,E=B.$48i;M==e&&(M=B.$46i=new m.List);for(var _=0;_<arguments.length;_++){var P=arguments[_];if("string"==typeof P)M.$49i=P;else{if(P._config.flowLayout)continue;P.setPositionRelativeTo("rightBottom"),M.contains(P)||M.add(P),E.contains(P)||B.add(P)}}},add:function(D){if(!D._config.flowLayout){var w=this,f=w.$48i;f.contains(D)||(D.addEventListener(w.bindHandlePanelMove),D.addEventListener(w.bindHandlePanelEvent),f.add(D))}},remove:function(d){var u=this,Q=u.$48i;Q.contains(d)&&(d.removeEventListener(u.bindHandlePanelMove),d.removeEventListener(u.bindHandlePanelEvent),Q.remove(d),u.$43i.contains(d)&&u.$43i.remove(d),u.$44i.contains(d)&&u.$44i.remove(d),u.$45i.contains(d)&&u.$45i.remove(d),u.$46i.contains(d)&&u.$46i.remove(d))},layoutPanels:function(g,D,y){var Z=this,d=Z._config,W=d.hGap||0,X=d.vGap||0;if(g){var K=Z.$43i;if("leftBottom"===D?K=Z.$45i:"rightTop"===D?K=Z.$44i:"rightBottom"===D&&(K=Z.$46i),!K)return;var z=K.$49i,j=W,B=X;if(g.contains(Z._view)&&g.removeChild(Z._view),K&&K.size()>0)for(var x=0;x<K.size();x++){var I=K.get(x),M=I.getView();g=g||M.parentNode,y!==x?I.setPosition(j,B):("leftTop"===D?(Z._view.style.right="",Z._view.style.bottom="",Z._view.style.left=j+b,Z._view.style.top=B+b):"leftBottom"===D?(Z._view.style.right="",Z._view.style.top="",Z._view.style.left=j+b,Z._view.style.bottom=B+b):"rightTop"===D?(Z._view.style.left="",Z._view.style.bottom="",Z._view.style.right=j+b,Z._view.style.top=B+b):"rightBottom"===D&&(Z._view.style.left="",Z._view.style.top="",Z._view.style.right=j+b,Z._view.style.bottom=B+b),Z._view.style.width=M.offsetWidth+b,Z._view.style.height=M.offsetHeight+b,g.insertBefore(Z._view,M)),"h"===z?j+=M.offsetWidth+W:"v"===z&&(B+=M.offsetHeight+X)}}},handlePanelEvent:function(h){if("beginToggle"===h.kind||"endToggle"===h.kind||"beginRestore"===h.kind||"endMinimize"===h.kind||"endResize"===h.kind){var F=this,X=h.target,A=X.getView(),f=A.parentNode,E=F.$43i,s=F.$44i,V=F.$45i,I=F.$46i,z=F._config,P=e,k=e,t=X.$47i;if(t==e&&(t=X.$47i=0),"beginToggle"===h.kind?t=X.$47i=t+1:"endToggle"===h.kind&&(t=X.$47i=t-1),E&&E.contains(X)?(P="leftTop",k=E):V&&V.contains(X)?(P="leftBottom",k=V):s&&s.contains(X)?(P="rightTop",k=s):I&&I.contains(X)&&(P="rightBottom",k=I),"beginToggle"===h.kind&&P&&1===t){var x=J(),R=x.style,T=k.$49i,H="each";R.fontSize="0",R.position="absolute",R.width="100%","leftTop"===P?(R.left=0,R.top=0):"leftBottom"===P?(R.left=0,R.bottom=0,"v"===T&&(H="reverseEach")):"rightTop"===P?(R.right=0,R.top=0,R.textAlign="right","h"===T&&(H="reverseEach")):"rightBottom"===P&&(R.right=0,R.bottom=0,R.textAlign="right",H="reverseEach"),k[H](function(r){var A=r.getView(),Y=A.style,W=J();Y.position="static",W.style.textAlign="left",W.style.position="relative",W.style.display="inline-block","leftTop"===P?(W.style.marginLeft=z.hGap+b,W.style.marginTop=z.vGap+b):"leftBottom"===P?(W.style.marginLeft=z.hGap+b,W.style.marginBottom=z.vGap+b):"rightTop"===P?(W.style.marginRight=z.hGap+b,W.style.marginTop=z.vGap+b):"rightBottom"===P&&(W.style.marginRight=z.hGap+b,W.style.marginBottom=z.vGap+b),W.appendChild(A),x.appendChild(W),"h"===T?W.style.verticalAlign="leftTop"===P||"rightTop"===P?"top":"bottom":x.appendChild($("br"))}),F.$54i=x,f.appendChild(x)}else"endToggle"===h.kind&&P&&0===t?K(function(){f=f.parentNode.parentNode,f.removeChild(F.$54i),delete F.$54i,k.each(function(v){var o=v.getView(),e=o.style;e.position="absolute",f.appendChild(o)}),F.layoutPanels(f,P)},30):("beginRestore"===h.kind||"endMinimize"===h.kind||"endResize"===h.kind)&&P&&F.layoutPanels(f,P)}},handlePanelMove:function(u){if(!(u.kind.indexOf("Move")<0)){var c=this,T=c._config,t=T.hGap||0,F=T.vGap||0,w=u.target,y=w._view,C=y.getBoundingClientRect(),q=C.width,A=C.height,M=q/2,p=A/2,z=y.parentNode,s=c.$43i,W=c.$44i,U=c.$45i,D=c.$46i,V=z.getBoundingClientRect(),J=c._tolerance;if("endMove"===u.kind){var k=c._corner;k&&(w.setPositionRelativeTo(k),c.layoutPanels(z,k)),delete c._corner}if("betweenMove"===u.kind){var G=V.left,H=V.top,B=V.width,K=V.height,N=C.left+q/2,b=C.top+A/2;s==e&&(s=c.$43i=new m.List),U==e&&(U=c.$45i=new m.List),W==e&&(W=c.$44i=new m.List),D==e&&(D=c.$46i=new m.List),delete c._corner,s.contains(w)?(s.remove(w),c.layoutPanels(z,"leftTop")):U.contains(w)?(U.remove(w),c.layoutPanels(z,"leftBottom")):W.contains(w)?(W.remove(w),c.layoutPanels(z,"rightTop")):D.contains(w)&&(D.remove(w),c.layoutPanels(z,"rightBottom"));var L=function(U,d){var o=G+t,f=H+F;if(0===d.size()){var W=o+M,v=f+p;"leftBottom"===U?v=H+K-F-p:"rightTop"===U?W=G+B-t-M:"rightBottom"===U&&(W=G+B-t-M,v=H+K-F-p);var x=N-W,R=b-v,Y=Math.sqrt(x*x+R*R);if(J>Y)return c._corner=U,d.add(w),c.layoutPanels(z,U,0),!0}else if(1===d.size()){var T=d.get(0),y=T.getView().getBoundingClientRect(),u=y.left+M,Z=y.top+p,I=y.left+y.width+t+M,_=f+p,V=o+M,D=y.top+y.height+F+p;"leftBottom"===U?(Z=y.top+y.height-p,_=H+K-F-p,D=y.top-F-p):"rightTop"===U?(u=y.left+y.width-M,I=y.left-t-M,V=G+B-t-M):"rightBottom"===U&&(u=y.left+y.width-M,Z=y.top+y.height-p,I=y.left-t-M,_=H+K-F-p,V=G+B-t-M,D=y.top-F-p);var E=N-u,s=b-Z,O=N-I,j=b-_,h=N-V,k=b-D,r=i(Math.sqrt(E*E+s*s)),m=i(Math.sqrt(O*O+j*j)),g=i(Math.sqrt(h*h+k*k)),l=[r,m,g];l.sort(function(I,r){return I-r});var C=l[0];if(J>C){if(c._corner=U,C===r)return d.add(w,0),c.layoutPanels(z,U,0),!0;if(C===m)return d.add(w),d.$49i="h",c.layoutPanels(z,U,1),!0;if(C===g)return d.add(w),d.$49i="v",c.layoutPanels(z,U,1),!0}}else if(d.size()>1){for(var L=e,a={},q=[],S=d.$49i,A=0;A<d.size();A++){var P=d.get(A),X=P.getView(),Q=X.getBoundingClientRect(),$=Q.left+M,n=Q.top+p;"leftBottom"===U?n=Q.top+Q.height-p:"rightTop"===U?$=Q.left+Q.width-M:"rightBottom"===U&&($=Q.left+Q.width-M,n=Q.top+Q.height-p),A===d.size()-1&&(L=Q);var x=N-$,R=b-n,Y=i(Math.sqrt(x*x+R*R));a[Y]=A,q.push(Y)}"leftTop"===U&&"h"===S?(W=L.left+L.width+t+M,v=f+p):"leftTop"===U&&"v"===S?(W=o+M,v=L.top+L.height+F+p):"leftBottom"===U&&"h"===S?(W=L.left+L.width+t+M,v=H+K-F-p):"leftBottom"===U&&"v"===S?(W=o+M,v=L.top-F-p):"rightTop"===U&&"h"===S?(W=L.left-t-M,v=f+p):"rightTop"===U&&"v"===S?(W=G+B-t-M,v=L.top+L.height+F+p):"rightBottom"===U&&"h"===S?(W=L.left-t-M,v=H+K-F-p):"rightBottom"===U&&"v"===S&&(W=G+B-t-M,v=L.top-F-p),x=N-W,R=b-v,Y=i(Math.sqrt(x*x+R*R)),a[Y]=A,q.push(Y),q.sort(function(I,t){return I-t});var C=q[0];if(J>C)return c._corner=U,d.add(w,a[C]),c.layoutPanels(z,U,a[C]),!0}};L("leftTop",s)||L("leftBottom",U)||L("rightTop",W)||L("rightBottom",D)}}}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);