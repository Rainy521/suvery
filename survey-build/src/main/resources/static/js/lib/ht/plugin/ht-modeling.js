!function(a,O,e){"use strict";var c="ht",Z=a[c],A=null,D=Math,K=D.PI,b=D.cos,o=D.sin,d=D.abs,N=D.max,h=D.sqrt,k=1e-5,C=Z.Default,$=C.def,S=C.startAnim,E=C.createMatrix,m=C.transformVec,g=C.getInternal(),B=g.addMethod,z=g.superCall,v=g.toPointsArray,W=g.createNormals,r=g.toFloatArray,Y=g.glMV,P=g.batchShape,t=g.createNodeMatrix,n=g.getFaceInfo,J=g.transformAppend,y=g.drawFaceInfo,j=g.createAnim,G=g.cube(),X=G.is,H=G.vs,p=G.uv,M=g.ui(),u=Z.Node,w=Z.Shape,U="h",i="v",F="front",Q="back",I="left",x="right",s="top",R="bottom",L="dw.expanded",q=".expanded",V="dw.angle",_=".angle",f=function(Y,K,F){$(c+"."+Y,K,F)},l=function(i,k,f){f?i.push(k.x,k.y):i.push(k.x,k.y,k.z)},T=[1,0,0],bc=function(M,q,u,h){var n,b,B,I,f=0,i=[];if(h)for(n=h.length;n>f;f+=3)b=h[f],B=h[f+1],I=h[f+2],i.push(new js([new lo([q[3*b],q[3*b+1],q[3*b+2]],T,u?[u[2*b],u[2*b+1],0]:A),new lo([q[3*B],q[3*B+1],q[3*B+2]],T,u?[u[2*B],u[2*B+1],0]:A),new lo([q[3*I],q[3*I+1],q[3*I+2]],T,u?[u[2*I],u[2*I+1],0]:A)],M));else for(n=q.length;n>f;f+=3)b=f,B=f+1,I=f+2,i.push(new js([new lo([q[3*b],q[3*b+1],q[3*b+2]],T,u?[u[2*b],u[2*b+1],0]:A),new lo([q[3*B],q[3*B+1],q[3*B+2]],T,u?[u[2*B],u[2*B+1],0]:A),new lo([q[3*I],q[3*I+1],q[3*I+2]],T,u?[u[2*I],u[2*I+1],0]:A)],M));return i},Yn=[I,F,x,Q,s,R],Bl=Yn.concat("csg"),Aq=[0,6,12,18,24,30],Tj=function(L,J,Q){for(var f=t(L),E=[],M=0;6>M;M++)for(var V=Yn[M],y=Aq[M],O=Q?J.getFaceUv(L,V):A,e=Q?J.getFaceUvScale(L,V):A,N=Q?J.getFaceUvOffset(L,V):A,b=0;2>b;b++){var n,S,o,x=X[y+3*b],z=X[y+3*b+1],s=X[y+3*b+2];if(Q){if(O){var Z=8*M;n=[O[2*x-Z],O[2*x+1-Z],0],S=[O[2*z-Z],O[2*z+1-Z],0],o=[O[2*s-Z],O[2*s+1-Z],0]}else n=[p[2*x],p[2*x+1],0],S=[p[2*z],p[2*z+1],0],o=[p[2*s],p[2*s+1],0];e&&(n[0]*=e[0],n[1]*=e[1],S[0]*=e[0],S[1]*=e[1],o[0]*=e[0],o[1]*=e[1]),N&&(n[0]+=N[0],n[1]+=N[1],S[0]+=N[0],S[1]+=N[1],o[0]+=N[0],o[1]+=N[1])}E.push(new js([new lo(m([H[3*x],H[3*x+1],H[3*x+2]],f),T,n),new lo(m([H[3*z],H[3*z+1],H[3*z+2]],f),T,S),new lo(m([H[3*s],H[3*s+1],H[3*s+2]],f),T,o)],L))}return uo.$15n(E)},Nf=function(L,U){var $,I=L.data.getAttaches();if(I&&I.each(function(A){A instanceof Bf&&A.s("attach.operation")&&($||($=[]),$.push(A))}),$){var k;Yn.forEach(function(e){var n=bc(e,L[e].vs,L[e].tuv);k=k?k.concat(n):n}),k=uo.$15n(k),$.forEach(function(c){var t=c.s("attach.operation");k[t]&&(k=k[t](Tj(c,L.gv,L.csg.tuv)))}),Yn.forEach(function(C){C=L[C],C.vs=[],C.tuv&&(C.tuv=[])}),k.$19n().forEach(function(J){var v=J.$10n;if(v instanceof Bf){if(v.s("attach.cull"))return;v="csg"}for(var P=L[v],R=P.vs,Q=P.tuv,k=J.$9n,M=2;M<k.length;M++)l(R,k[0].$24n),l(R,k[M-1].$24n),l(R,k[M].$24n),Q&&(l(Q,k[0].uv,!0),l(Q,k[M-1].uv,!0),l(Q,k[M].uv,!0))})}Bl.forEach(function(B){var D=L[B];D.visible&&D.vs.length?(D.ns=W(D.vs),r(D,"vs"),r(D,"tuv")):delete L[B]}),U&&(P(L,A,U),L.clear())};B(C,{createFrameModel:function(J,U,V,g){J=J==A?.07:J,U=U==A?J:U,V=V==A?J:V,g=g?g:{};var P=g.top,G=g.bottom,O=g.left,K=g.right,F=g.front,Y=g.back,d=[],H=[];return F===!0?(d.push(-.5,.5,.5,-.5,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,-.5,.5,.5),H.push(0,0,0,1,1,1,1,1,1,0,0,0)):F===!1||(d.push(-.5,.5,.5,-.5,-.5,.5,-.5+J,-.5,.5,-.5+J,-.5,.5,-.5+J,.5,.5,-.5,.5,.5,.5-J,.5,.5,.5-J,-.5,.5,.5,-.5,.5,.5,-.5,.5,.5,.5,.5,.5-J,.5,.5,-.5+J,.5,.5,-.5+J,.5-U,.5,.5-J,.5-U,.5,.5-J,.5-U,.5,.5-J,.5,.5,-.5+J,.5,.5,-.5+J,-.5+U,.5,-.5+J,-.5,.5,.5-J,-.5,.5,.5-J,-.5,.5,.5-J,-.5+U,.5,-.5+J,-.5+U,.5),H.push(0,0,0,1,J,1,J,1,J,0,0,0,1-J,0,1-J,1,1,1,1,1,1,0,1-J,0,J,0,J,U,1-J,U,1-J,U,1-J,0,J,0,J,1-U,J,1,1-J,1,1-J,1,1-J,1-U,J,1-U)),Y===!0?(d.push(-.5,.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,.5,-.5,.5,.5,-.5),H.push(1,0,0,1,1,1,0,1,1,0,0,0)):Y===!1||(d.push(-.5,.5,-.5,-.5+J,-.5,-.5,-.5,-.5,-.5,-.5+J,-.5,-.5,-.5,.5,-.5,-.5+J,.5,-.5,.5-J,.5,-.5,.5,-.5,-.5,.5-J,-.5,-.5,.5,-.5,-.5,.5-J,.5,-.5,.5,.5,-.5,-.5+J,.5,-.5,.5-J,.5-U,-.5,-.5+J,.5-U,-.5,.5-J,.5-U,-.5,-.5+J,.5,-.5,.5-J,.5,-.5,-.5+J,-.5+U,-.5,.5-J,-.5,-.5,-.5+J,-.5,-.5,.5-J,-.5,-.5,-.5+J,-.5+U,-.5,.5-J,-.5+U,-.5),H.push(1,0,1-J,1,1,1,1-J,1,1,0,1-J,0,J,0,0,1,J,1,0,1,J,0,0,0,1-J,0,J,U,1-J,U,J,U,1-J,0,J,0,1-J,1-U,J,1,1-J,1,J,1,1-J,1-U,J,1-U)),O===!0?(d.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,-.5),H.push(0,0,0,1,1,1,1,1,1,0,0,0)):O===!1||(d.push(-.5,.5,-.5,-.5,-.5,-.5,-.5,-.5,-.5+V,-.5,-.5,-.5+V,-.5,.5,-.5+V,-.5,.5,-.5,-.5,.5,.5-V,-.5,-.5,.5-V,-.5,-.5,.5,-.5,-.5,.5,-.5,.5,.5,-.5,.5,.5-V,-.5,.5,-.5+V,-.5,.5-U,-.5+V,-.5,.5-U,.5-V,-.5,.5-U,.5-V,-.5,.5,.5-V,-.5,.5,-.5+V,-.5,-.5+U,-.5+V,-.5,-.5,-.5+V,-.5,-.5,.5-V,-.5,-.5,.5-V,-.5,-.5+U,.5-V,-.5,-.5+U,-.5+V),H.push(0,0,0,1,V,1,V,1,V,0,0,0,1-V,0,1-V,1,1,1,1,1,1,0,1-V,0,V,0,V,U,1-V,U,1-V,U,1-V,0,V,0,V,1-U,V,1,1-V,1,1-V,1,1-V,1-U,V,1-U)),K===!0?(d.push(.5,.5,-.5,.5,-.5,.5,.5,-.5,-.5,.5,-.5,.5,.5,.5,-.5,.5,.5,.5),H.push(1,0,0,1,1,1,0,1,1,0,0,0)):K===!1||(d.push(.5,.5,-.5,.5,-.5,-.5+V,.5,-.5,-.5,.5,-.5,-.5+V,.5,.5,-.5,.5,.5,-.5+V,.5,.5,.5-V,.5,-.5,.5,.5,-.5,.5-V,.5,-.5,.5,.5,.5,.5-V,.5,.5,.5,.5,.5,-.5+V,.5,.5-U,.5-V,.5,.5-U,-.5+V,.5,.5-U,.5-V,.5,.5,-.5+V,.5,.5,.5-V,.5,-.5+U,-.5+V,.5,-.5,.5-V,.5,-.5,-.5+V,.5,-.5,.5-V,.5,-.5+U,-.5+V,.5,-.5+U,.5-V),H.push(1,0,1-V,1,1,1,1-V,1,1,0,1-V,0,V,0,0,1,V,1,0,1,V,0,0,0,1-V,0,V,U,1-V,U,V,U,1-V,0,V,0,1-V,1-U,V,1,1-V,1,V,1,1-V,1-U,V,1-U)),P===!0?(d.push(.5,.5,.5,.5,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,.5,.5,.5),H.push(1,1,1,0,0,0,0,0,0,1,1,1)):P===!1||(d.push(.5,.5,.5,.5,.5,-.5,.5-J,.5,-.5,.5-J,.5,-.5,.5-J,.5,.5,.5,.5,.5,-.5+J,.5,.5,-.5+J,.5,-.5,-.5,.5,-.5,-.5,.5,-.5,-.5,.5,.5,-.5+J,.5,.5,.5-J,.5,.5,.5-J,.5,.5-V,-.5+J,.5,.5-V,-.5+J,.5,.5-V,-.5+J,.5,.5,.5-J,.5,.5,.5-J,.5,-.5+V,.5-J,.5,-.5,-.5+J,.5,-.5,-.5+J,.5,-.5,-.5+J,.5,-.5+V,.5-J,.5,-.5+V),H.push(1,1,1,0,1-J,0,1-J,0,1-J,1,1,1,J,1,J,0,0,0,0,0,0,1,J,1,1-J,1,1-J,1-V,J,1-V,J,1-V,J,1,1-J,1,1-J,V,1-J,0,J,0,J,0,J,V,1-J,V)),G===!0?(d.push(.5,-.5,.5,-.5,-.5,-.5,.5,-.5,-.5,-.5,-.5,-.5,.5,-.5,.5,-.5,-.5,.5),H.push(1,0,0,1,1,1,0,1,1,0,0,0)):G===!1||(d.push(.5,-.5,.5,.5-J,-.5,-.5,.5,-.5,-.5,.5-J,-.5,-.5,.5,-.5,.5,.5-J,-.5,.5,-.5+J,-.5,.5,-.5,-.5,-.5,-.5+J,-.5,-.5,-.5,-.5,-.5,-.5+J,-.5,.5,-.5,-.5,.5,.5-J,-.5,.5,-.5+J,-.5,.5-V,.5-J,-.5,.5-V,-.5+J,-.5,.5-V,.5-J,-.5,.5,-.5+J,-.5,.5,.5-J,-.5,-.5+V,-.5+J,-.5,-.5,.5-J,-.5,-.5,-.5+J,-.5,-.5,.5-J,-.5,-.5+V,-.5+J,-.5,-.5+V),H.push(1,0,1-J,1,1,1,1-J,1,1,0,1-J,0,J,0,0,1,J,1,0,1,J,0,0,0,1-J,0,J,V,1-J,V,J,V,1-J,0,J,0,1-J,1-V,J,1,1-J,1,J,1,1-J,1-V,J,1-V)),{vs:d,uv:H}}}),B(Z.Style,{"dw.flip":!1,"dw.s3":[.999,.999,.5],"dw.t3":e,"dw.expanded":!1,"dw.toggleable":!0,"dw.axis":"left","dw.start":0,"dw.end":K/2,"dw.angle":0,"attach.cull":!1,"attach.operation":"subtract"},!0),Yn.forEach(function(u){var C={};C[u+q]=!1,C[u+".toggleable"]=!1,C[u+".axis"]=I,C[u+".start"]=0,C[u+".end"]=K/2,C[u+_]=0,B(Z.Style,C,!0)});var uo=function(){this.$4n=[]};uo.$15n=function(K){var A=new uo;return A.$4n=K,A},uo.prototype={clone:function(){var $=new uo;return $.$4n=this.$4n.map(function(A){return A.clone()}),$},$19n:function(){return this.$4n},union:function(J){var P=new lq(this.clone().$4n),L=new lq(J.clone().$4n);return P.$3n(L),L.$3n(P),L.$6n(),L.$3n(P),L.$6n(),P.$7n(L.$2n()),uo.$15n(P.$2n())},subtract:function(q){var d=new lq(this.clone().$4n),R=new lq(q.clone().$4n);return d.$6n(),d.$3n(R),R.$3n(d),R.$6n(),R.$3n(d),R.$6n(),d.$7n(R.$2n()),d.$6n(),uo.$15n(d.$2n())},intersect:function(y){var Z=new lq(this.clone().$4n),$=new lq(y.clone().$4n);return Z.$6n(),$.$3n(Z),$.$6n(),Z.$3n($),$.$3n(Z),Z.$7n($.$2n()),Z.$6n(),uo.$15n(Z.$2n())},inverse:function(){var Q=this.clone();return Q.$4n.map(function(E){E.flip()}),Q}},uo.cube=function(W){W=W||{};var R=new rn(W.center||[0,0,0]),G=W.radius?W.radius.length?W.radius:[W.radius,W.radius,W.radius]:[1,1,1];return uo.$15n([[[0,4,6,2],[-1,0,0]],[[1,3,7,5],[1,0,0]],[[0,1,5,4],[0,-1,0]],[[2,6,7,3],[0,1,0]],[[0,2,3,1],[0,0,-1]],[[4,5,7,6],[0,0,1]]].map(function(z){return new js(z[0].map(function(C){var S=new rn(R.x+G[0]*(2*!!(1&C)-1),R.y+G[1]*(2*!!(2&C)-1),R.z+G[2]*(2*!!(4&C)-1));return new lo(S,new rn(z[1]))}))}))},uo.sphere=function(k){function A(D,$){D*=2*K,$*=K;var e=new rn(b(D)*o($),b($),o(D)*o($));C.push(new lo(J.$20n(e.$21n(Y)),e))}k=k||{};for(var C,J=new rn(k.center||[0,0,0]),Y=k.radius||1,H=k.slices||16,p=k.stacks||8,r=[],w=0;H>w;w++)for(var s=0;p>s;s++)C=[],A(w/H,s/p),s>0&&A((w+1)/H,s/p),p-1>s&&A((w+1)/H,(s+1)/p),A(w/H,(s+1)/p),r.push(new js(C));return uo.$15n(r)},uo.cylinder=function(u){function e($,k,w){var X=2*k*K,r=f.$21n(b(X)).$20n(B.$21n(o(X))),H=c.$20n(D.$21n($)).$20n(r.$21n(Q)),N=r.$21n(1-d(w)).$20n(U.$21n(w));return new lo(H,N)}u=u||{};for(var c=new rn(u.start||[0,-1,0]),M=new rn(u.end||[0,1,0]),D=M.$13n(c),Q=u.radius||1,W=u.slices||16,U=D.$14n(),S=d(U.y)>.5,f=new rn(S,!S,0).$12n(U).$14n(),B=f.$12n(U).$14n(),H=new lo(c,U.$11n()),r=new lo(M,U.$14n()),P=[],y=0;W>y;y++){var t=y/W,$=(y+1)/W;P.push(new js([H,e(0,t,-1),e(0,$,-1)])),P.push(new js([e(0,$,0),e(0,t,0),e(1,t,0),e(1,$,0)])),P.push(new js([r,e(1,$,1),e(1,t,1)]))}return uo.$15n(P)};var rn=function(a,y,V){var h=this;3==arguments.length?(h.x=a,h.y=y,h.z=V):"x"in a?(h.x=a.x,h.y=a.y,h.z=a.z):(h.x=a[0],h.y=a[1],h.z=a[2])};rn.prototype={clone:function(){return new rn(this.x,this.y,this.z)},$11n:function(){return new rn(-this.x,-this.y,-this.z)},$20n:function(Q){return new rn(this.x+Q.x,this.y+Q.y,this.z+Q.z)},$13n:function(W){return new rn(this.x-W.x,this.y-W.y,this.z-W.z)},$21n:function(h){return new rn(this.x*h,this.y*h,this.z*h)},$16n:function(Q){return new rn(this.x/Q,this.y/Q,this.z/Q)},$23n:function(s){return this.x*s.x+this.y*s.y+this.z*s.z},lerp:function(K,J){return this.$20n(K.$13n(this).$21n(J))},length:function(){return h(this.$23n(this))},$14n:function(){return this.$16n(this.length())},$12n:function(d){var U=this;return new rn(U.y*d.z-U.z*d.y,U.z*d.x-U.x*d.z,U.x*d.y-U.y*d.x)}};var lo=function(A,P,Z){var u=this;u.$24n=new rn(A),u.$22n=new rn(P),u.uv=Z?new rn(Z):null};lo.prototype={clone:function(){var x=this;return new lo(x.$24n.clone(),x.$22n.clone(),x.uv?x.uv.clone():null)},flip:function(){this.$22n=this.$22n.$11n()},$18n:function(C,R){var O=this;return new lo(O.$24n.lerp(C.$24n,R),O.$22n.lerp(C.$22n,R),O.uv?O.uv.lerp(C.uv,R):null)}};var Ef=function(x,D){this.$22n=x,this.w=D};Ef.$17n=function(F,d,Y){var t=d.$13n(F).$12n(Y.$13n(F)).$14n();return new Ef(t,t.$23n(F))},Ef.prototype={clone:function(){return new Ef(this.$22n.clone(),this.w)},flip:function(){var G=this;G.$22n=G.$22n.$11n(),G.w=-G.w},$5n:function(l,M,v,T,g){for(var n=this,r=0,$=1,i=2,V=3,C=0,b=[],S=0;S<l.$9n.length;S++){var R=n.$22n.$23n(l.$9n[S].$24n)-n.w,a=-k>R?i:R>k?$:r;C|=a,b.push(a)}switch(C){case r:(n.$22n.$23n(l.$8n.$22n)>0?M:v).push(l);break;case $:T.push(l);break;case i:g.push(l);break;case V:for(var Y=[],u=[],S=0;S<l.$9n.length;S++){var N=(S+1)%l.$9n.length,A=b[S],I=b[N],h=l.$9n[S],D=l.$9n[N];if(A!=i&&Y.push(h),A!=$&&u.push(A!=i?h.clone():h),(A|I)==V){var R=(n.w-this.$22n.$23n(h.$24n))/n.$22n.$23n(D.$24n.$13n(h.$24n)),Q=h.$18n(D,R);Y.push(Q),u.push(Q.clone())}}Y.length>=3&&T.push(new js(Y,l.$10n)),u.length>=3&&g.push(new js(u,l.$10n))}}};var js=function(Q,L){var s=this;s.$9n=Q,s.$10n=L,s.$8n=Ef.$17n(Q[0].$24n,Q[1].$24n,Q[2].$24n)};js.prototype={clone:function(){var N=this.$9n.map(function(A){return A.clone()});return new js(N,this.$10n)},flip:function(){this.$9n.reverse().map(function(E){E.flip()}),this.$8n.flip()}};var lq=function($){var M=this;M.$8n=null,M.front=null,M.back=null,M.$4n=[],$&&M.$7n($)};lq.prototype={clone:function(){var g=this,n=new lq;return n.$8n=g.$8n&&g.$8n.clone(),n.front=g.front&&g.front.clone(),n.back=g.back&&g.back.clone(),n.$4n=g.$4n.map(function(Z){return Z.clone()}),n},$6n:function(){for(var n=this,L=0;L<n.$4n.length;L++)n.$4n[L].flip();n.$8n.flip(),n.front&&n.front.$6n(),n.back&&n.back.$6n();var P=n.front;n.front=n.back,n.back=P},$1n:function(J){var s=this;if(!s.$8n)return J.slice();for(var W=[],y=[],n=0;n<J.length;n++)s.$8n.$5n(J[n],W,y,W,y);return s.front&&(W=s.front.$1n(W)),y=s.back?s.back.$1n(y):[],W.concat(y)},$3n:function(S){var w=this;w.$4n=S.$1n(w.$4n),w.front&&w.front.$3n(S),w.back&&w.back.$3n(S)},$2n:function(){var b=this,X=b.$4n.slice();return b.front&&(X=X.concat(b.front.$2n())),b.back&&(X=X.concat(b.back.$2n())),X},$7n:function(N){var P=this;if(N.length){P.$8n||(P.$8n=N[0].$8n.clone());for(var y=[],m=[],E=0;E<N.length;E++)this.$8n.$5n(N[E],P.$4n,P.$4n,y,m);y.length&&(P.front||(P.front=new lq),this.front.$7n(y)),m.length&&(P.back||(P.back=new lq),P.back.$7n(m))}}};var el="symbol",Cj=Z.Symbol=function(H,y,o){var W=this;z(Cj,W),W.s3(20,20,20),W.s({"all.visible":!1,shape:"rect"}),W.setIcon(H,y,o)};f("Symbol",u,{setIcon:function(n,H,A){var Z,W=this;return Cj.superClass.setIcon.call(W,n),n?(Z={for3d:!0,face:"center",position:44,names:[n]},A&&(Z.transaprent=!0),H&&(Z.autorotate=H),W.addStyleIcon(el,Z)):W.removeStyleIcon(el),W.setWidth(g.getImageWidth(C.getImage(n),W)||20),Z}});var Bf=Z.CSGNode=function(){z(Bf,this),this.s({shape:"rect","attach.thickness":1.001})},Bk={position:1,width:1,height:1,rotation:1,rotationX:1,rotationZ:1,rotationMode:1,tall:1,elevation:1,"s:attach.cull":1,"s:attach.operation":1};f("CSGNode",u,{_22Q:function(){return Lj},onPropertyChanged:function(o){var U=this,i=U.getHost();Bf.superClass.onPropertyChanged.call(U,o),Bk[o.property]&&(i instanceof tb||i instanceof Bf)&&i.fp("csgNodeChange",!0,!1)}});var Lj=function(g,p){z(Lj,this,[g,p])};$(Lj,M.Node3dUI,{_80o:function(R,N,C){var t=this;t._shape3d?Lj.superClass._80o.call(t,R,N,C):(Y(t.gv),Bl.forEach(function(u){y(t,R,N,t[u],C)}))},validate:function(l,o){var m=this,Q=m.gv,P=m.data;if(P.s("shape3d"))return Lj.superClass.validate.call(m,l,o),m._shape3d=!0,void 0;m._shape3d=!1;var u=t(P,Q.getMat(P)),d=l&&l.uv;m.vf2("csg",d);for(var C=0;6>C;C++)for(var E=Yn[C],V=Aq[C],x=m.vf2(E,d,o),A=x.mat||u,f=x.vs,S=x.uv,k=x.tuv,O=0;2>O;O++){var K=X[V+3*O],v=X[V+3*O+1],y=X[V+3*O+2];if(J(f,A,[H[3*K],H[3*K+1],H[3*K+2]]),J(f,A,[H[3*v],H[3*v+1],H[3*v+2]]),J(f,A,[H[3*y],H[3*y+1],H[3*y+2]]),k)if(S){var G=8*C;k.push(S[2*K-G],S[2*K+1-G],S[2*v-G],S[2*v+1-G],S[2*y-G],S[2*y+1-G])}else k.push(p[2*K],p[2*K+1],p[2*v],p[2*v+1],p[2*y],p[2*y+1])}Nf(m,l,o)},vf2:function($,u,N){var g,T=this,z=T.gv.getFaceVisible(T.data,$);return g=n(T,$,N),g.vs=[],g.tuv=z&&(g.texture||u)?[]:A,g.visible=z,g}});var tb=Z.CSGShape=function(){var s=this;z(tb,s),s.s({"shape.background":A,"shape.border.width":8}),s.setTall(240),s.setElevation(120),s.setThickness(14)};f("CSGShape",w,{IRotatable:!1,_22Q:function(){return $j},setRotationX:function(){},setRotation:function(){},setRotationZ:function(){},setSegments:function(){}});var $j=function(J,k){z($j,this,[J,k])};$($j,M.Shape3dUI,{_80o:function(C,m,n){var z=this;z.undrawable||(Y(z.gv),Bl.forEach(function(N){y(z,C,m,z[N],n)}))},validate:function(t,w){var s=this,r=s.data,T=r.getPoints();if(s.undrawable=T.size()<2)return s.clear(),void 0;var J=r.isClosePath(),q=N(r._thickness/2,k),Z=v(T,A,A,J);Bl.forEach(function(f){s.vf(f,t&&t.uv,!0,w)}),J&&(s.left.visible=!1,s.right.visible=!1),s._12O(Z,q),s._20Q(Z),Nf(s,t,w)}});var Np=Z.DoorWindow=function(){var $=this;z(Np,$),$.setElevation(100),$.s3(100,200,14)};f("DoorWindow",Bf,{IDoorWindow:!0,toggle:function(R){this.setExpanded(!this.s(L),R)},isExpanded:function(){return this.s(L)},setExpanded:function(r,x){var v,q=this,G=q.$25n,h=q.getDataModel(),D=q.s(L);if(h&&(v=h.getHistoryManager()),G&&(G.stop(!0),delete q.$25n),D!==r){v&&v.beginInteraction();var B=r?q.s("dw.end"):q.s("dw.start");q.s(L,r),x=j(x),x?(D=q.s(V),x.action=function(u){q.s(V,D+(B-D)*u)},x.finishFunc=function(){v&&v.endInteraction()},q.$25n=S(x)):(q.s(V,B),v&&v.endInteraction())}},getMat:function(){var k=this,Z=k.s("dw.s3"),z=k.s("dw.t3"),m=k.s("dw.flip"),M=k.s(V);if(Z||M||z||m){var w=[];if(m&&w.push({r3:[0,K,0]}),Z&&w.push({s3:Z}),M){Z=k.s3();var t=k.s("dw.axis"),e=Z[0]/2,b=Z[1]/2;Z[2]/2,t===I?w.push({t3:[e,0,0]},{r3:[0,-M,0]},{t3:[-e,0,0]}):t===x?w.push({t3:[-e,0,0]},{r3:[0,M,0]},{t3:[e,0,0]}):t===s?w.push({t3:[0,-b,0]},{r3:[-M,0,0]},{t3:[0,b,0]}):t===R?w.push({t3:[0,b,0]},{r3:[M,0,0]},{t3:[0,-b,0]}):t===i?w.push({r3:[0,M,0]}):t===U&&w.push({r3:[M,0,0]})}return z&&w.push({t3:z}),E(w)}return A}});var oc=Z.CSGBox=function(){var G=this;z(oc,G),G.setElevation(100),G.s3(100,200,100)};f("CSGBox",Bf,{ICSGBox:!0,toggleFace:function(i,T){this.setFaceExpanded(i,!this.s(i+q),T)},isFaceExpanded:function(e){return this.s(e+q)},setFaceExpanded:function(u,A,X){var z=this,P=z.$25n,I=z.s(u+q);if(P&&(P.stop(!0),delete z.$25n),I!==A){var E=A?z.s(u+".end"):z.s(u+".start");z.s(u+q,A),X=j(X),X?(I=z.s(u+_),X.action=function(L){z.s(u+_,I+(E-I)*L)},z.$25n=S(X)):z.s(u+_,E)}},getFaceMat:function(d){var p=this,o=p.s(d+_);if(!o)return A;var W=p.s(d+".axis"),O=p.s3(),g=O[0]/2,X=O[1]/2,K=O[2]/2,V=[];return d===F&&(W===I?V.push({t3:[g,0,-K]},{r3:[0,-o,0]},{t3:[-g,0,K]}):W===x?V.push({t3:[-g,0,-K]},{r3:[0,o,0]},{t3:[g,0,K]}):W===s?V.push({t3:[0,-X,-K]},{r3:[-o,0,0]},{t3:[0,X,K]}):W===R?V.push({t3:[0,X,-K]},{r3:[o,0,0]},{t3:[0,-X,K]}):W===i?V.push({t3:[0,0,-K]},{r3:[0,o,0]},{t3:[0,0,K]}):W===U&&V.push({t3:[0,0,-K]},{r3:[o,0,0]},{t3:[0,0,K]})),d===Q&&(W===I?V.push({t3:[-g,0,K]},{r3:[0,-o,0]},{t3:[g,0,-K]}):W===x?V.push({t3:[g,0,K]},{r3:[0,o,0]},{t3:[-g,0,-K]}):W===s?V.push({t3:[0,-X,K]},{r3:[o,0,0]},{t3:[0,X,-K]}):W===R?V.push({t3:[0,X,K]},{r3:[-o,0,0]},{t3:[0,-X,-K]}):W===i?V.push({t3:[0,0,K]},{r3:[0,o,0]},{t3:[0,0,-K]}):W===U&&V.push({t3:[0,0,K]},{r3:[o,0,0]},{t3:[0,0,-K]})),d===I&&(W===I?V.push({t3:[g,0,K]},{r3:[0,-o,0]},{t3:[-g,0,-K]}):W===x?V.push({t3:[g,0,-K]},{r3:[0,o,0]},{t3:[-g,0,K]}):W===s?V.push({t3:[g,-X,0]},{r3:[0,0,-o]},{t3:[-g,X,0]}):W===R?V.push({t3:[g,X,0]},{r3:[0,0,o]},{t3:[-g,-X,0]}):W===i?V.push({t3:[g,0,0]},{r3:[0,o,0]},{t3:[-g,0,0]}):W===U&&V.push({t3:[g,0,0]},{r3:[0,0,o]},{t3:[-g,0,0]})),d===x&&(W===I?V.push({t3:[-g,0,-K]},{r3:[0,-o,0]},{t3:[g,0,K]}):W===x?V.push({t3:[-g,0,K]},{r3:[0,o,0]},{t3:[g,0,-K]}):W===s?V.push({t3:[-g,-X,0]},{r3:[0,0,o]},{t3:[g,X,0]}):W===R?V.push({t3:[-g,X,0]},{r3:[0,0,-o]},{t3:[g,-X,0]}):W===i?V.push({t3:[-g,0,0]},{r3:[0,o,0]},{t3:[g,0,0]}):W===U&&V.push({t3:[-g,0,0]},{r3:[0,0,o]},{t3:[g,0,0]})),d===s&&(W===I?V.push({t3:[g,-X,0]},{r3:[0,0,o]},{t3:[-g,X,0]}):W===x?V.push({t3:[-g,-X,0]},{r3:[0,0,-o]},{t3:[g,X,0]}):W===s?V.push({t3:[0,-X,K]},{r3:[-o,0,0]},{t3:[0,X,-K]}):W===R?V.push({t3:[0,-X,-K]},{r3:[o,0,0]},{t3:[0,X,K]}):W===i?V.push({t3:[0,-X,0]},{r3:[0,0,o]},{t3:[0,X,0]}):W===U&&V.push({t3:[0,-X,0]},{r3:[o,0,0]},{t3:[0,X,0]})),d===R&&(W===I?V.push({t3:[g,X,0]},{r3:[0,0,-o]},{t3:[-g,-X,0]}):W===x?V.push({t3:[-g,X,0]},{r3:[0,0,o]},{t3:[g,-X,0]}):W===s?V.push({t3:[0,X,-K]},{r3:[-o,0,0]},{t3:[0,-X,K]}):W===R?V.push({t3:[0,X,K]},{r3:[o,0,0]},{t3:[0,-X,-K]}):W===i?V.push({t3:[0,X,0]},{r3:[0,0,o]},{t3:[0,-X,0]}):W===U&&V.push({t3:[0,X,0]},{r3:[o,0,0]},{t3:[0,-X,0]})),E(V)}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);