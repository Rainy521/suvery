!function(G,P){"use strict";var c="ht",n=G[c],p="px",T="left",y="top",e="bottom",b="right",E="innerHTML",S="className",s="",O="width",l="height",$="string",v="position",q="absolute",F="0",V="opacity",_="background",Y=n.Default,Q=Y.getInternal(),L=n.Color,f=Y.animate,k=Y.isTouchable,J=null,Z=(Math.sqrt,G.parseInt),h=G.setTimeout,g=(Math.round,L.titleIconBackground),m=function(s){return typeof s===$||s instanceof String},K=function(){return document},D=function(W){return K().createElement(W)},R=function(){var r=D("div");return r.tabIndex=-1,r.style.outline="none",r},B=function(){return D("canvas")},M=function(N,A){C(N,"-webkit-transform",A),C(N,"-ms-transform",A),C(N,"transform",A)},C=function(E,R,K){E.style.setProperty(R,K,J)},x=function(r,e,R){Y.def(n.widget[r],e,R)},t=function(_,g){_.appendChild(g)},u=function(q,Z){q.removeChild(Z)},W=function(){return K().body},I=function(){return K().documentElement},H=function(){return I().clientWidth},z=function(){return I().clientHeight},r=function(y,X,F,v){y.addEventListener(X,F,!!v)},X=function(M){var Z=M.touches[0];return Z?Z:M.changedTouches[0]};Q.addMethod(Y,{dialogCloseIcon:{width:100,height:100,comps:[{type:"shape",points:[10,10,90,90],segments:[1,2],borderWidth:8,borderColor:g},{type:"shape",points:[90,10,10,90],segments:[1,2],borderWidth:8,borderColor:g}]},dialogMaximizeIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,15,80,75],borderWidth:6,borderColor:g},{type:"rect",rect:[10,10,80,20],background:g}]},dialogRestoreIcon:{width:100,height:100,comps:[{type:"rect",rect:[10,34,56,56],borderWidth:8,borderColor:g},{type:"rect",rect:[10,34,56,14],background:g},{type:"rect",rect:[34,10,56,14],background:g},{type:"rect",rect:[82,10,8,56],background:g},{type:"rect",rect:[66,62,24,8],background:g}]},dialogTitleLabelColor:Y.labelSelectColor,dialogTitleLabelFont:(k?"18":"14")+"px arial, sans-serif",dialogContentLabelFont:Y.labelFont,dialogTitleBackground:L.titleBackground,dialogHeaderBackground:L.headerBackground,dialogButtonBackground:"#1ABC9C",dialogButtonSelectBackground:"#16A085",dialogButtonLabelColor:"#fff"},!0);var U=function(g){var d=this;d.$1d=g,d.addListeners()};Y.def(U,P,{ms_listener:1,getView:function(){return this.$1d.getView()},clear:function(){delete this.$2d,delete this.$3d,delete this.$4d,delete this.$5d},handle_touchstart:function(D){var $=this,L=$.$1d,c=L.$6d,h=L._config,n=L.$7d,Q=D,H=D.target;if(n.contains(H)||Y.preventDefault(D),Y.isLeftButton(D)){k&&(Q=X(D));var M=$.$8d={x:Q.pageX,y:Q.pageY};$.$9d={x:M.x,y:M.y},!h.maximized&&h.draggable&&c.contains(H)&&($.$4d=!0,Y.startDragging($,D)),$.handle_mousemove(D)&&($.$2d=!0,Y.startDragging($,D)),n.contains(D.target)||L.$41d.focus()}},handle_mousedown:function(T){this.handle_touchstart(T)},handle_touchend:function(d){if(Y.isLeftButton(d)&&!this.$5d&&!this.$3d){var M=this,C=M.$1d,$=d.target,B=C._config,f=C.$18d,v=C.$16d;for(B.closable&&f.contains($)&&C.hide(),B.maximizable&&v.contains($)&&(B.maximized?C.restore():C.maximize());$&&($.className||"").indexOf("dialog-button")<0;)$=$.parentNode;$&&$.buttonItem&&C.action&&C.action($.buttonItem,d),delete M.$8d,delete M.$9d}},handle_mouseup:function(g){this.handle_touchend(g)},handleWindowTouchEnd:function(F){var C=this,P=C.$1d,l=P.$10d;C.$2d&&C.$3d?l.fire({kind:"endResize",target:P,originEvent:F}):C.$4d&&C.$5d&&l.fire({kind:"endMove",target:P,originEvent:F}),this.clear()},handleWindowMouseUp:function(h){this.handleWindowTouchEnd(h)},handle_mousemove:function(b){var L=this.$1d._config;if(L.maximized)return!1;if("w"!==L.resizeMode&&"h"!==L.resizeMode&&"wh"!==L.resizeMode)return!1;var U=this,Z=U.getView(),R=Z.querySelector(".resize-area"),W=R.getBoundingClientRect(),O={x:W.left,y:W.top,width:W.width,height:W.height};b=k?X(b):b;var q=b.clientX,V=b.clientY,I={x:q,y:V};return Y.containsPoint(O,I)?(C(Z,"cursor","nwse-resize"),!0):(C(Z,"cursor",s),void 0)},handleWindowTouchMove:function(i){i.preventDefault();var f=i;k&&(f=X(i));var e=this,b=e.$8d,U=e.$9d;if(!(U.x==b.x&&U.y==b.y&&Y.getDistance(U,{x:f.pageX,y:f.pageY})<=1)){var u=e.$1d,g=u._config,E=u.$21d,o=g.resizeMode||"wh",L=f.pageX-b.x,B=f.pageY-b.y;if(e.$2d){var M=E.offsetWidth,D=E.offsetHeight,S=M+L,r=D+B;if(S=Math.max(S,50),r=Math.max(r,50),"center"===g.position||g.position==J){var q={},v=E.getBoundingClientRect();q.x=v.left,q.y=v.top,g.position=q}"w"===o?(u.setSize(S,D),b.x+=S-M):"h"===o?(u.setSize(M,r),b.y+=r-D):"wh"===o&&(u.setSize(S,r),b.x+=S-M,b.y+=r-D),e.$3d?u.$10d.fire({kind:"betweenResize",target:u,originEvent:i}):(e.$3d=!0,u.$10d.fire({kind:"beginResize",target:u,originEvent:i}))}else if(e.$4d){var j=E.getBoundingClientRect(),m=j.width,a=j.height,W=H(),V=z(),h=Z(E.style.left)||0,n=Z(E.style.top)||0,N=h+L,K=n+B;N+m>W&&(N=W-m),K+a>V&&(K=V-a),0>N&&(N=0),0>K&&(K=0);var O=N-h,Q=K-n;C(E,T,N+p),C(E,y,K+p),b.x+=O,b.y+=Q,g.position={x:N,y:K},e.$5d?u.$10d.fire({kind:"betweenMove",target:u,originEvent:i}):(e.$5d=!0,u.$10d.fire({kind:"beginMove",target:u,originEvent:i}))}}},handleWindowMouseMove:function(T){this.handleWindowTouchMove(T)},handleWindowResize:function(){var m=this,D=m,r=D._config,w=D.$21d,B=H(),k=z(),h=r.width,X=r.height,s=r.position||"center";r.maximized?(C(w,O,B+p),C(w,l,k+p),C(w,y,F),C(w,T,F)):(C(w,O,h+p),C(w,l,X+p),"center"===s?(C(w,T,(B-h)/2+p),C(w,y,(k-X)/2+p)):(C(w,T,s.x+p),C(w,y,s.y+p))),D.iv()},handle_mousewheel:function(E){E.stopPropagation()},handle_DOMMouseScroll:function(E){E.stopPropagation()}}),n.widget.Dialog=function(R){var t=this,F=t._view=Q.createView(null,t);F[S]="ht-widget-dialog",C(F,v,q),Y.baseZIndex!=J&&C(F,"z-index",Y.baseZIndex+"");var c=t.$11d=new U(t);t.bindingHandleWindowResize=c.handleWindowResize.bind(t),t.$10d=new n.Notifier,R&&t.setConfig(R)},x("Dialog",P,{ms_v:1,setTitle:function(b){this._config.title=b,this.getView().querySelector(".dialog-container-title span").innerHTML=b},$31d:function(){var u=this,e=u.$6d=R(),N=u._config,U=u.$12d=u.$13d();e[S]="dialog-container-title",C(e,"cursor","default"),C(e,"white-space","nowrap"),C(e,"overflow","hidden"),C(e,"font",Y.dialogTitleLabelFont),C(e,_,N.titleBackground||Y.dialogTitleBackground),C(e,"color",N.titleColor||Y.dialogTitleLabelColor);var T=D("span"),x=u.$25d();if(N.titleAlign&&C(e,"text-align",N.titleAlign),N.titleIcon){var K=u.$14d=u.$15d();t(e,K)}if(T[E]=N.title||"&nbsp;",t(e,T),N.maximizable){var m=u.$16d=u.$17d();t(U,m)}if(N.closable){var B=u.$18d=u.$19d();t(U,B)}return t(e,U),C(e,"display","block"),C(e,"line-height",x+p),e},$13d:function(){var L=R();return C(L,v,q),C(L,T,F),C(L,b,5+p),C(L,y,F),C(L,e,F),C(L,"text-align",b),C(L,"white-space","nowrap"),L[S]="dialog-title-controls",L},$20d:function(){var x=this.$21d=R(),z=this._config,G=z.borderWidth;return C(x,v,"fixed"),C(x,"box-shadow","rgba(0, 0, 0, 0.2) 0px 5px 10px 0px"),C(x,"padding",F+" "+G+p+" "+G+p+" "+G+p),C(x,"box-sizing","border-box"),C(x,"-moz-box-sizing","border-box"),x[S]="dialog-container",C(x,_,z.titleBackground||Y.dialogTitleBackground),x},$22d:function(){var s,i=this,j=i._config,w=i.$7d=R(),f=j.content,A=0,V=j.contentPadding||0;j.buttons!=J&&j.buttons.length>0&&(A=32),m(f)?w[E]=f:f.getView?(s=f.getView(),t(w,s)):(s=f,t(w,s)),C(w,v,q),C(w,"font",Y.dialogContentLabelFont),t(W(),w);var U=w.offsetWidth+1,P=w.offsetHeight,M=i.$25d();return j.width==J&&(j.width=U+10+2*V),j.height==J&&(j.height=P+M+A+5+2*V),u(W(),w),s&&(C(s,"box-sizing","border-box"),C(s,"-moz-box-sizing","border-box"),C(s,O,"100%"),C(s,l,"100%")),w[S]="dialog-content",C(w,y,M+V+p),C(w,e,A+V+p),C(w,T,V+p),C(w,b,V+p),C(w,"overflow","hidden"),w},$23d:function(){var o=this.$41d=R();return o[S]="dialog-overlay",C(o,O,"100%"),C(o,l,"100%"),C(o,v,"fixed"),C(o,y,F),C(o,T,F),C(o,_,"rgba(235, 235, 235, 0.7)"),o},_config:J,setSize:function(h,X){var r=this,o=r._config;o&&(o.width=h,o.height=X,r.isShowing()&&(r.bindingHandleWindowResize(),r.iv()))},getConfig:function(){return this._config},$24d:function(){var M=this._config,w=M.titleIconSize||16;return k&&(w*=1.2),w},$25d:function(){var C=this._config,L=C.titleHeight||Y.widgetTitleHeight;return L},$26d:function(l){C(l,"cursor","pointer"),C(l,"display","inline-block"),C(l,"margin-right",(k?8:4)+p),C(l,"vertical-align",y)},$27d:function(){var T=this.$30d=R(),i=10;return k&&(i=20),C(T,O,i+p),C(T,l,i+p),C(T,v,q),C(T,e,F),C(T,b,F),T[S]="resize-area",T},$15d:function(){var m=this,b=B();b[S]="dialog-title-control dialog-title-control-icon";var J=m.$25d(),t=m.$24d();return m.$26d(b),Q.setCanvas(b,t,J),b},$17d:function(){var s=B();s[S]="dialog-title-control dialog-title-control-maximize";var e=this.$25d(),T=this.$24d();return this.$26d(s),Q.setCanvas(s,T,e),s},$19d:function(){var E=B();E[S]="dialog-title-control dialog-title-control-close";var I=this.$25d(),A=this.$24d();return this.$26d(E),Q.setCanvas(E,A,I),E},$28d:function(){var b=R();return C(b,_,"white"),C(b,O,"100%"),C(b,l,"100%"),C(b,v,"relative"),b},$29d:function(){var H=this,$=R();C($,"line-height",32+p),C($,v,q),C($,e,F),C($,T,F),C($,"white-space","nowrap"),C($,"overflow","hidden"),C($,b,F),C($,_,Y.dialogHeaderBackground),$[S]="dialog-container-buttons";var m=this._config,f=m.buttonsAlign||b,l=0;return C($,"text-align",f),H.$42d=[],m.buttons.forEach(function(z){var c=new n.widget.Button,e=c.getView();e[S]="dialog-button "+z.className,e.buttonItem=z,H.$42d.push(c),c.setBorderColor(J),c.setBackground(Y.dialogButtonBackground),c.setSelectBackground(Y.dialogButtonSelectBackground),c.setLabelColor(Y.dialogButtonLabelColor),C(e,v,"static"),C(e,"display","inline-block"),C(e,"text-align",T),C(e,"height",24+p);var E=k?10:5;f===T||f===b?C(e,"margin-"+f,E+p):0===l||C(e,"margin-"+T,E+p),C(e,"vertical-align","middle");var y=Y.getTextSize(c.getLabelFont(),z.label).width+10;c.onClicked=function(t){z.action&&z.action.call(H,z,t)},c.setLabel(z.label),C(e,O,y+p),t($,c.getView()),l++}),$},setConfig:function(U){if(U){var o=this,d=o._view;o._config=U,o.action=U.action,d[E]=s,U.borderWidth==J&&(U.borderWidth=5);var B=o.$23d(),Q=o.$28d(),f=o.$31d(),F=o.$22d(),b=o.$20d(),p=o.$30d=o.$27d();if(t(d,B),t(d,b),t(b,Q),t(Q,f),t(Q,F),U.buttons!=J&&U.buttons.length>0){var V=o.$29d();t(Q,V)}t(b,p),U.maximized?(U.maximized=!1,o.bindingHandleWindowResize(),o.maximize(!0)):o.bindingHandleWindowResize(),o.isShowing()&&o.iv()}},hide:function(){var A=this,j=A.$21d,t=A.$41d,p=A._view;p[S]="ht-widget-dialog",f(j).duration(200).scale(.7).set(V,F).end(function(){A.onHidden&&A.onHidden(),u(W(),p),A.$10d.fire({kind:"hide",target:A})}),f(t).duration(200).set(V,F).end(),G.removeEventListener("resize",A.bindingHandleWindowResize)},isShowing:function(){return W().contains(this._view)},setModal:function(q){this.$41d.style.display=q?"block":"none"},isModal:function(){return"none"!==this.$41d.style.display},$32d:function(){var F=this,Z=F._config,t=F.$21d;M(t,s),F.iv(),Z.maximized?F.$10d.fire({kind:"maximize",target:F}):F.$10d.fire({kind:"restore",target:F})},maximize:function(K){var i=this,u=i.$21d,w=i._config;if(!w.maximized){w.maximized=!0,i.$33d(),i.$16d[S]="dialog-title-control dialog-title-control-minimize";var t=H(),q=z(),G=w.width,h=w.height,n=Z(u.style.left)||0,V=Z(u.style.top)||0;i.$36d=G,i.$37d=h,i.$34d=n,i.$35d=V;var E=K?0:200;f(u).duration(E).set(T,F).set(y,F).set(O,t+p).set(l,q+p).end(function(){i.$32d()})}},restore:function(){var r=this,Z=r.$34d,g=r.$35d,L=r.$36d,F=r.$37d,h=r._config;if(h.maximized&&(h.maximized=!1,r.$33d(),r.$16d[S]="dialog-title-control dialog-title-control-maximize",r.isShowing()&&Z!=J&&g!=J&&L!=J&&F!=J)){var A=r.$21d;f(A).duration(200).set(T,Z+p).set(y,g+p).set(O,L+p).set(l,F+p).end(function(){r.$32d()})}delete r.$34d,delete r.$35d,delete r.$36d,delete r.$37d},show:function(){var $=this,T=$._view,R=$._config,E=$.$21d,v=$.$41d;R&&R.zIndex!=J&&C(T,"z-index",R.zIndex+s),t(W(),T),M(E,"scale(0.7)"),C(E,V,F),$.iv(),$.validate(),$._view[S]+=" dialog-show",h(function(){f(E).duration(200).scale(1).set(V,"1").end(function(){C(E,O,E.clientWidth+p),C(E,l,E.clientHeight+p),$.onShown&&$.onShown(),$.$10d.fire({kind:"show",target:$})}),f(v).duration(200).set(V,"1").end(),r(G,"resize",$.bindingHandleWindowResize)},30)},setPosition:function(_){var d=this.$21d;d.style.left=_.x+"px",d.style.top=_.y+"px"},addEventListener:function(x,H,l){this.$10d.add(x,H,l)},removeEventListener:function(S,v){this.$10d.remove(S,v)},$38d:function(f,X,K,l){var q=Q.initContext(f);Q.translateAndScale(q,0,0,1),q.clearRect(0,0,K,K);var s=(K-l)/2;Y.drawStretchImage(q,Y.getImage(X),"fill",0,s,l,l),q.restore()},$33d:function(){var B=this,x=B._config,Q=B.$16d,C=x.maximized?Y.dialogRestoreIcon:Y.dialogMaximizeIcon;if(Q&&C){var r=B.$25d(),O=B.$24d();B.$38d(Q,Y.getImage(C),r,O)}},$39d:function(){var j=this,n=j._config,I=j.$14d,x=n.titleIcon;if(I&&x){var O=j.$25d(),w=j.$24d();j.$38d(I,Y.getImage(x),O,w)}},$40d:function(){var K=this,O=K.$18d,l=Y.dialogCloseIcon;if(O&&l){var c=K.$25d(),$=K.$24d();K.$38d(O,Y.getImage(l),c,$)}},invalidate:function(N){var h=this,X=h.$42d;h._68I||(h._68I=1,Y.callLater(h.validate,h,J,N),h.onInvalidated&&h.onInvalidated(),h.fireViewEvent("invalidate"));var U=h._config.content;U.invalidate&&U.invalidate(),X&&X.forEach(function(a){a.iv()})},validateImpl:function(){var q=this;q.$40d(),q.$33d(),q.$39d()}})}("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:this,Object);